import{S as he,i as _e,s as me,o as ge,k as g,a as F,v as ye,q as se,H as be,l as E,h as v,c as K,m as b,w as Re,r as ne,n as o,I as ie,p as ae,F as p,b as Q,x as ke,u as ce,f as Se,t as we,y as Ae,A as de,J as Ee}from"../../../chunks/index-03aa718b.js";import{b as z}from"../../../chunks/paths-47524592.js";function De(u){return ge(()=>{var n=n||{};n.Widget=function(l){function a(m){if(c[m])return c[m].exports;var i=c[m]={exports:{},id:m,loaded:!1};return l[m].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}var c={};return a.m=l,a.c=c,a.p="",a(0)}([function(l,a,c){function m(e){return!!(e===""||e&&e.charCodeAt&&e.substr)}function i(e){return!!(e&&e.constructor&&e.call&&e.apply)}function h(e){return!(!e||e.nodeType!==1||e.nodeName.toUpperCase()!=="IFRAME")}function L(e){var t,r=!1;for(t in W)if(W.hasOwnProperty(t)&&W[t]===e){r=!0;break}return r}function f(e){var t,r,s;for(t=0,r=S.length;t<r&&(s=e(S[t]),s!==!1);t++);}function R(e){var t,r,s,d="";for(e.substr(0,2)==="//"&&(e=window.location.protocol+e),s=e.split("/"),t=0,r=s.length;t<r&&t<3;t++)d+=s[t],t<2&&(d+="/");return d}function T(e){return e.contentWindow?e.contentWindow:e.contentDocument&&"parentWindow"in e.contentDocument?e.contentDocument.parentWindow:null}function D(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function N(e,t,r){r.callbacks[e]=r.callbacks[e]||[],r.callbacks[e].push(t)}function Y(e,t){var r,s=!0;return t.callbacks[e]=[],f(function(d){if(r=d.callbacks[e]||[],r.length)return s=!1,!1}),s}function k(e,t,r){var s,d,_=T(r);return!!_.postMessage&&(s=r.getAttribute("src").split("?")[0],d=JSON.stringify({method:e,value:t}),s.substr(0,2)==="//"&&(s=window.location.protocol+s),s=s.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void _.postMessage(d,s))}function P(e){var t;return f(function(r){if(r.instance===e)return t=r,!1}),t}function J(e){var t;return f(function(r){if(T(r.element)===e)return t=r,!1}),t}function C(e,t){return function(r){var s=i(r),d=P(this),_=!s&&t?r:null,O=s&&!t?r:null;return O&&N(e,O,d),k(e,_,d.element),this}}function w(e,t,r){var s,d,_;for(s=0,d=t.length;s<d;s++)_=t[s],e[_]=C(_,r)}function ee(e,t,r){return e+"?url="+t+"&"+te(r)}function te(e){var t,r,s=[];for(t in e)e.hasOwnProperty(t)&&(r=e[t],s.push(t+"="+(t==="start_track"?parseInt(r,10):r?"true":"false")));return s.join("&")}function I(e,t,r){var s,d,_=e.callbacks[t]||[];for(s=0,d=_.length;s<d;s++)_[s].apply(e.instance,r);(L(t)||t===y.READY)&&(e.callbacks[t]=[])}function M(e){var t,r,s,d,_;try{r=JSON.parse(e.data)}catch{return!1}return t=J(e.source),s=r.method,d=r.value,(!t||B(e.origin)===B(t.domain))&&(t?(s===y.READY&&(t.isReady=!0,I(t,X),Y(X,t)),s!==y.PLAY||t.playEventFired||(t.playEventFired=!0),s!==y.PLAY_PROGRESS||t.playEventFired||(t.playEventFired=!0,I(t,y.PLAY,[d])),_=[],d!==void 0&&_.push(d),void I(t,s,_)):(s===y.READY&&q.push(e.source),!1))}function B(e){return e.replace(A,"")}var G,$,V,H=c(1),W=c(2),U=c(3),y=H.api,x=H.bridge,q=[],S=[],X="__LATE_BINDING__",Z="http://wt.soundcloud.test:9200/",A=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",M,!1):window.attachEvent("onmessage",M),l.exports=V=function(e,t,r){if(m(e)&&(e=document.getElementById(e)),!h(e))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");t&&(r=r||{},e.src=ee(Z,t,r));var s,d,_=J(T(e));return _&&_.instance?_.instance:(s=q.indexOf(T(e))>-1,d=new G(e),S.push(new $(d,e,s)),d)},V.Events=y,window.SC=window.SC||{},window.SC.Widget=V,$=function(e,t,r){this.instance=e,this.element=t,this.domain=R(t.getAttribute("src")),this.isReady=!!r,this.callbacks={}},G=function(){},G.prototype={constructor:G,load(e,t){if(e){t=t||{};var r=this,s=P(this),d=s.element,_=d.src,O=_.substr(0,_.indexOf("?"));s.isReady=!1,s.playEventFired=!1,d.onload=function(){r.bind(y.READY,function(){var j,re=s.callbacks;for(j in re)re.hasOwnProperty(j)&&j!==y.READY&&k(x.ADD_LISTENER,j,s.element);t.callback&&t.callback()})},d.src=ee(O,e,t)}},bind(e,t){var r=this,s=P(this);return s&&s.element&&(e===y.READY&&s.isReady?setTimeout(t,1):s.isReady?(N(e,t,s),k(x.ADD_LISTENER,e,s.element)):N(X,function(){r.bind(e,t)},s)),this},unbind(e){var t,r=P(this);r&&r.element&&(t=Y(e,r),e!==y.READY&&t&&k(x.REMOVE_LISTENER,e,r.element))}},w(G.prototype,D(W)),w(G.prototype,D(U),!0)},function(l,a){a.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},a.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(l,a){l.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(l,a){l.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}])}),[]}class Pe extends he{constructor(n){super(),_e(this,n,De,null,me,{})}}var oe=(u=>(u.LOAD_PROGRESS="loadProgress",u.PLAY_PROGRESS="playProgress",u.PLAY="play",u.PAUSE="pause",u.FINISH="finish",u.SEEK="seek",u.ERROR="error",u.READY="ready",u))(oe||{});const ue=u=>{const n=new Date(u),l=n.getMinutes(),a=n.getSeconds();return a<10?`${l}:0${a}`:`${l}:${a}`};function Ie(u){let n,l;return{c(){n=g("p"),l=se("Loading..."),this.h()},l(a){n=E(a,"P",{class:!0});var c=b(n);l=ne(c,"Loading..."),c.forEach(v),this.h()},h(){o(n,"class","svelte-c1v9ud")},m(a,c){Q(a,n,c),p(n,l)},p:de,d(a){a&&v(n)}}}function Oe(u){let n,l,a=u[3].title+"",c,m,i,h=u[3].title+"",L;return{c(){n=g("div"),l=g("p"),c=se(a),m=F(),i=g("p"),L=se(h),this.h()},l(f){n=E(f,"DIV",{class:!0});var R=b(n);l=E(R,"P",{class:!0});var T=b(l);c=ne(T,a),T.forEach(v),m=K(R),i=E(R,"P",{class:!0});var D=b(i);L=ne(D,h),D.forEach(v),R.forEach(v),this.h()},h(){o(l,"class","svelte-c1v9ud"),o(i,"class","svelte-c1v9ud"),o(n,"class","svelte-c1v9ud")},m(f,R){Q(f,n,R),p(n,l),p(l,c),p(n,m),p(n,i),p(i,L)},p(f,R){R&8&&a!==(a=f[3].title+"")&&ce(c,a),R&8&&h!==(h=f[3].title+"")&&ce(L,h)},d(f){f&&v(n)}}}function Le(u){let n,l,a,c,m;return{c(){n=g("button"),l=g("img"),this.h()},l(i){n=E(i,"BUTTON",{type:!0,class:!0});var h=b(n);l=E(h,"IMG",{src:!0,class:!0,alt:!0}),h.forEach(v),this.h()},h(){ie(l.src,a=z+"/pause-button.png")||o(l,"src",a),o(l,"class","pause-play-btn svelte-c1v9ud"),o(l,"alt","pause"),o(n,"type","button"),o(n,"class","svelte-c1v9ud")},m(i,h){Q(i,n,h),p(n,l),c||(m=Ee(n,"click",u[4]),c=!0)},p:de,d(i){i&&v(n),c=!1,m()}}}function Te(u){let n,l,a,c,m;return{c(){n=g("button"),l=g("img"),this.h()},l(i){n=E(i,"BUTTON",{type:!0,class:!0});var h=b(n);l=E(h,"IMG",{src:!0,class:!0,alt:!0}),h.forEach(v),this.h()},h(){ie(l.src,a=z+"/play-button.png")||o(l,"src",a),o(l,"class","pause-play-btn svelte-c1v9ud"),o(l,"alt","play"),o(n,"type","button"),o(n,"class","svelte-c1v9ud")},m(i,h){Q(i,n,h),p(n,l),c||(m=Ee(n,"click",u[4]),c=!0)},p:de,d(i){i&&v(n),c=!1,m()}}}function Ne(u){let n,l,a,c,m,i,h,L,f,R,T,D,N,Y,k,P,J,C,w,ee,te,I,M,B,G,$,V=(u[3]?ue(u[3].duration):"0:00")+"",H,W,U,y;h=new Pe({});function x(e,t){return e[3]?Oe:Ie}let q=x(u),S=q(u);function X(e,t){return e[0]?Te:Le}let Z=X(u),A=Z(u);return{c(){n=g("link"),l=g("link"),a=g("link"),c=g("link"),m=F(),i=g("div"),ye(h.$$.fragment),L=F(),f=g("iframe"),T=F(),D=g("div"),N=g("div"),Y=g("div"),k=g("div"),P=g("div"),S.c(),J=F(),C=g("div"),w=g("img"),te=F(),I=g("div"),M=g("p"),B=se(u[2]),G=F(),$=g("p"),H=se(V),W=F(),U=g("div"),A.c(),this.h()},l(e){const t=be('[data-svelte="svelte-1ej0k31"]',document.head);n=E(t,"LINK",{rel:!0,href:!0}),l=E(t,"LINK",{rel:!0,href:!0,crossorigin:!0}),a=E(t,"LINK",{href:!0,rel:!0}),c=E(t,"LINK",{rel:!0,as:!0,href:!0}),t.forEach(v),m=K(e),i=E(e,"DIV",{class:!0});var r=b(i);Re(h.$$.fragment,r),L=K(r),f=E(r,"IFRAME",{id:!0,width:!0,height:!0,scrolling:!0,frameborder:!0,title:!0,allow:!0,src:!0,class:!0}),b(f).forEach(v),T=K(r),D=E(r,"DIV",{class:!0});var s=b(D);N=E(s,"DIV",{class:!0,style:!0});var d=b(N);Y=E(d,"DIV",{class:!0});var _=b(Y);k=E(_,"DIV",{class:!0});var O=b(k);P=E(O,"DIV",{class:!0});var j=b(P);S.l(j),j.forEach(v),J=K(O),C=E(O,"DIV",{class:!0,style:!0});var re=b(C);w=E(re,"IMG",{class:!0,src:!0,alt:!0,width:!0,height:!0,style:!0}),re.forEach(v),te=K(O),I=E(O,"DIV",{class:!0});var le=b(I);M=E(le,"P",{});var pe=b(M);B=ne(pe,u[2]),pe.forEach(v),G=K(le),$=E(le,"P",{});var fe=b($);H=ne(fe,V),fe.forEach(v),le.forEach(v),O.forEach(v),W=K(_),U=E(_,"DIV",{class:!0});var ve=b(U);A.l(ve),ve.forEach(v),_.forEach(v),d.forEach(v),s.forEach(v),r.forEach(v),this.h()},h(){document.title="Rest Here Weary Traveller - Alvin Zhong",o(n,"rel","preconnect"),o(n,"href","https://fonts.googleapis.com"),o(l,"rel","preconnect"),o(l,"href","https://fonts.gstatic.com"),o(l,"crossorigin","anonymous"),o(a,"href","https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap"),o(a,"rel","stylesheet"),o(c,"rel","preload"),o(c,"as","image"),o(c,"href",z+"/pause-button.png"),o(f,"id","soundcloud"),o(f,"width","100%"),o(f,"height","166"),o(f,"scrolling","no"),o(f,"frameborder","no"),o(f,"title","SoundCloud"),o(f,"allow","autoplay"),ie(f.src,R="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/1528939585")||o(f,"src",R),o(f,"class","svelte-c1v9ud"),o(P,"class","song-title svelte-c1v9ud"),o(w,"class","track-thumb svelte-c1v9ud"),ie(w.src,ee=z+"/track-thumb.png")||o(w,"src",ee),o(w,"alt","track thumb"),o(w,"width","28px"),o(w,"height","28px"),ae(w,"left",u[1]+"%"),o(C,"class","track svelte-c1v9ud"),ae(C,"background-image","url('"+z+"/track.png')"),o(I,"class","timestamp svelte-c1v9ud"),o(k,"class","time-info svelte-c1v9ud"),o(U,"class","button-wrapper svelte-c1v9ud"),o(Y,"class","player-controls svelte-c1v9ud"),o(N,"class","music-player svelte-c1v9ud"),ae(N,"background-image","url('"+z+"/rest-here.jpg')"),o(D,"class","music-player-wrapper svelte-c1v9ud"),o(i,"class","container svelte-c1v9ud")},m(e,t){p(document.head,n),p(document.head,l),p(document.head,a),p(document.head,c),Q(e,m,t),Q(e,i,t),ke(h,i,null),p(i,L),p(i,f),p(i,T),p(i,D),p(D,N),p(N,Y),p(Y,k),p(k,P),S.m(P,null),p(k,J),p(k,C),p(C,w),p(k,te),p(k,I),p(I,M),p(M,B),p(I,G),p(I,$),p($,H),p(Y,W),p(Y,U),A.m(U,null),y=!0},p(e,[t]){q===(q=x(e))&&S?S.p(e,t):(S.d(1),S=q(e),S&&(S.c(),S.m(P,null))),(!y||t&2)&&ae(w,"left",e[1]+"%"),(!y||t&4)&&ce(B,e[2]),(!y||t&8)&&V!==(V=(e[3]?ue(e[3].duration):"0:00")+"")&&ce(H,V),Z===(Z=X(e))&&A?A.p(e,t):(A.d(1),A=Z(e),A&&(A.c(),A.m(U,null)))},i(e){y||(Se(h.$$.fragment,e),y=!0)},o(e){we(h.$$.fragment,e),y=!1},d(e){v(n),v(l),v(a),v(c),e&&v(m),e&&v(i),Ae(h),S.d(),A.d()}}}function Ye(u,n,l){let a,c=!0,m=0,i="0:00",h;return ge(async()=>(a=window.SC.Widget("soundcloud"),a.bind(oe.PLAY_PROGRESS,f=>{const R=f;l(1,m=R.relativePosition||0),l(2,i=ue(R.currentPosition))}),a.bind(oe.READY,()=>{a.getCurrentSound(f=>{l(3,h=f)})}),()=>{a.unbind(oe.PLAY_PROGRESS),l(0,c=!0)})),[c,m,i,h,()=>{a.toggle(),l(0,c=!c)}]}class Ve extends he{constructor(n){super(),_e(this,n,Ye,Ne,me,{})}}export{Ve as default};
