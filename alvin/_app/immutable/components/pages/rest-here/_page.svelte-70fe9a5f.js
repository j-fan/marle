import{S as oe,i as se,s as ae,o as ie,k as C,q as M,v as fe,a as W,l as G,m as $,r as V,w as pe,c as K,h as I,n as _,H as X,b as le,F as R,x as he,I as Ee,u as re,f as _e,t as ge,y as me}from"../../../chunks/index-c0f9f79e.js";function ve(u){return ie(()=>{var o=o||{};o.Widget=function(l){function s(i){if(d[i])return d[i].exports;var E=d[i]={exports:{},id:i,loaded:!1};return l[i].call(E.exports,E,E.exports,s),E.loaded=!0,E.exports}var d={};return s.m=l,s.c=d,s.p="",s(0)}([function(l,s,d){function i(e){return!!(e===""||e&&e.charCodeAt&&e.substr)}function E(e){return!!(e&&e.constructor&&e.call&&e.apply)}function O(e){return!(!e||e.nodeType!==1||e.nodeName.toUpperCase()!=="IFRAME")}function y(e){var t,r=!1;for(t in x)if(x.hasOwnProperty(t)&&x[t]===e){r=!0;break}return r}function w(e){var t,r,n;for(t=0,r=q.length;t<r&&(n=e(q[t]),n!==!1);t++);}function N(e){var t,r,n,a="";for(e.substr(0,2)==="//"&&(e=window.location.protocol+e),n=e.split("/"),t=0,r=n.length;t<r&&t<3;t++)a+=n[t],t<2&&(a+="/");return a}function P(e){return e.contentWindow?e.contentWindow:e.contentDocument&&"parentWindow"in e.contentDocument?e.contentDocument.parentWindow:null}function D(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function g(e,t,r){r.callbacks[e]=r.callbacks[e]||[],r.callbacks[e].push(t)}function b(e,t){var r,n=!0;return t.callbacks[e]=[],w(function(a){if(r=a.callbacks[e]||[],r.length)return n=!1,!1}),n}function S(e,t,r){var n,a,c=P(r);return!!c.postMessage&&(n=r.getAttribute("src").split("?")[0],a=JSON.stringify({method:e,value:t}),n.substr(0,2)==="//"&&(n=window.location.protocol+n),n=n.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void c.postMessage(a,n))}function m(e){var t;return w(function(r){if(r.instance===e)return t=r,!1}),t}function L(e){var t;return w(function(r){if(P(r.element)===e)return t=r,!1}),t}function U(e,t){return function(r){var n=E(r),a=m(this),c=!n&&t?r:null,Y=n&&!t?r:null;return Y&&g(e,Y,a),S(e,c,a.element),this}}function f(e,t,r){var n,a,c;for(n=0,a=t.length;n<a;n++)c=t[n],e[c]=U(c,r)}function h(e,t,r){return e+"?url="+t+"&"+p(r)}function p(e){var t,r,n=[];for(t in e)e.hasOwnProperty(t)&&(r=e[t],n.push(t+"="+(t==="start_track"?parseInt(r,10):r?"true":"false")));return n.join("&")}function A(e,t,r){var n,a,c=e.callbacks[t]||[];for(n=0,a=c.length;n<a;n++)c[n].apply(e.instance,r);(y(t)||t===v.READY)&&(e.callbacks[t]=[])}function T(e){var t,r,n,a,c;try{r=JSON.parse(e.data)}catch{return!1}return t=L(e.source),n=r.method,a=r.value,(!t||z(e.origin)===z(t.domain))&&(t?(n===v.READY&&(t.isReady=!0,A(t,J),b(J,t)),n!==v.PLAY||t.playEventFired||(t.playEventFired=!0),n!==v.PLAY_PROGRESS||t.playEventFired||(t.playEventFired=!0,A(t,v.PLAY,[a])),c=[],a!==void 0&&c.push(a),void A(t,n,c)):(n===v.READY&&ee.push(e.source),!1))}function z(e){return e.replace(de,"")}var k,Q,B,Z=d(1),x=d(2),ue=d(3),v=Z.api,H=Z.bridge,ee=[],q=[],J="__LATE_BINDING__",ce="http://wt.soundcloud.test:9200/",de=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",T,!1):window.attachEvent("onmessage",T),l.exports=B=function(e,t,r){if(i(e)&&(e=document.getElementById(e)),!O(e))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");t&&(r=r||{},e.src=h(ce,t,r));var n,a,c=L(P(e));return c&&c.instance?c.instance:(n=ee.indexOf(P(e))>-1,a=new k(e),q.push(new Q(a,e,n)),a)},B.Events=v,window.SC=window.SC||{},window.SC.Widget=B,Q=function(e,t,r){this.instance=e,this.element=t,this.domain=N(t.getAttribute("src")),this.isReady=!!r,this.callbacks={}},k=function(){},k.prototype={constructor:k,load(e,t){if(e){t=t||{};var r=this,n=m(this),a=n.element,c=a.src,Y=c.substr(0,c.indexOf("?"));n.isReady=!1,n.playEventFired=!1,a.onload=function(){r.bind(v.READY,function(){var F,te=n.callbacks;for(F in te)te.hasOwnProperty(F)&&F!==v.READY&&S(H.ADD_LISTENER,F,n.element);t.callback&&t.callback()})},a.src=h(Y,e,t)}},bind(e,t){var r=this,n=m(this);return n&&n.element&&(e===v.READY&&n.isReady?setTimeout(t,1):n.isReady?(g(e,t,n),S(H.ADD_LISTENER,e,n.element)):g(J,function(){r.bind(e,t)},n)),this},unbind(e){var t,r=m(this);r&&r.element&&(t=b(e,r),e!==v.READY&&t&&S(H.REMOVE_LISTENER,e,r.element))}},f(k.prototype,D(x)),f(k.prototype,D(ue),!0)},function(l,s){s.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},s.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(l,s){l.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(l,s){l.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}])}),[]}class Re extends oe{constructor(o){super(),se(this,o,ve,null,ae,{})}}var j=(u=>(u.LOAD_PROGRESS="loadProgress",u.PLAY_PROGRESS="playProgress",u.PLAY="play",u.PAUSE="pause",u.FINISH="finish",u.SEEK="seek",u.ERROR="error",u.READY="ready",u))(j||{});function ne(u){let o,l;return{c(){o=C("img"),this.h()},l(s){o=G(s,"IMG",{src:!0,alt:!0}),this.h()},h(){X(o.src,l=u[3].artwork_url.replace("-large.jpg","-t500x500.jpg"))||_(o,"src",l),_(o,"alt","song cover art")},m(s,d){le(s,o,d)},p(s,d){d&8&&!X(o.src,l=s[3].artwork_url.replace("-large.jpg","-t500x500.jpg"))&&_(o,"src",l)},d(s){s&&I(o)}}}function ye(u){let o,l,s,d,i,E,O,y,w,N,P,D,g,b=u[1]?"Play":"Pause",S,m,L,U;s=new Re({});let f=u[3]&&ne(u);return{c(){o=C("div"),l=M(`Rest here weary traveller
  `),fe(s.$$.fragment),d=W(),i=C("iframe"),O=W(),f&&f.c(),y=W(),w=C("p"),N=M("Play progress: "),P=M(u[2]),D=W(),g=C("button"),S=M(b),this.h()},l(h){o=G(h,"DIV",{class:!0});var p=$(o);l=V(p,`Rest here weary traveller
  `),pe(s.$$.fragment,p),d=K(p),i=G(p,"IFRAME",{id:!0,width:!0,height:!0,scrolling:!0,frameborder:!0,title:!0,src:!0,class:!0}),$(i).forEach(I),O=K(p),f&&f.l(p),y=K(p),w=G(p,"P",{});var A=$(w);N=V(A,"Play progress: "),P=V(A,u[2]),A.forEach(I),D=K(p),g=G(p,"BUTTON",{type:!0});var T=$(g);S=V(T,b),T.forEach(I),p.forEach(I),this.h()},h(){_(i,"id","soundcloud"),_(i,"width","100%"),_(i,"height","166"),_(i,"scrolling","no"),_(i,"frameborder","no"),_(i,"title","SoundCloud"),X(i.src,E="https://w.soundcloud.com/player/?url=https://soundcloud.com/durdenhauer/praise-the-lord-durdenhauer-edit&color=0066CC&show_artwork=true&buying=false&sharing=false&show_playcount=false&download=false")||_(i,"src",E),_(i,"class","svelte-1oov5f9"),_(g,"type","button"),_(o,"class","container svelte-1oov5f9")},m(h,p){le(h,o,p),R(o,l),he(s,o,null),R(o,d),R(o,i),R(o,O),f&&f.m(o,null),R(o,y),R(o,w),R(w,N),R(w,P),R(o,D),R(o,g),R(g,S),m=!0,L||(U=Ee(g,"click",u[4]),L=!0)},p(h,[p]){h[3]?f?f.p(h,p):(f=ne(h),f.c(),f.m(o,y)):f&&(f.d(1),f=null),(!m||p&4)&&re(P,h[2]),(!m||p&2)&&b!==(b=h[1]?"Play":"Pause")&&re(S,b)},i(h){m||(_e(s.$$.fragment,h),m=!0)},o(h){ge(s.$$.fragment,h),m=!1},d(h){h&&I(o),me(s),f&&f.d(),L=!1,U()}}}function we(u,o,l){let s,d=!0,i=0,E;return ie(async()=>(l(0,s=window.SC.Widget("soundcloud")),s.bind(j.PLAY_PROGRESS,y=>{l(2,i=y.relativePosition||0)}),s.bind(j.READY,()=>{s.getCurrentSound(y=>{l(3,E=y)})}),()=>{s.unbind(j.PLAY_PROGRESS)})),[s,d,i,E,()=>{s.toggle(),l(1,d=!d)}]}class Se extends oe{constructor(o){super(),se(this,o,we,ye,ae,{})}}export{Se as default};
