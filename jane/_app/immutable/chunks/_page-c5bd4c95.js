import{H as be,S as z,i as L,s as K,e as D,b as $,g as O,t as m,d as C,f as h,h as u,I as ce,B as ue,k as y,l as w,m as I,n as v,p as X,J as B,C as fe,D as _e,E as de,F as P,o as ve,K as R,L as he,M as me,A as b,N as H,q as Y,a as A,r as q,c as U,u as pe,O as ke,P as ye,v as W,w as J,x as j,y as F,Q as we,R as Ie}from"./index-b5490c0e.js";import{_ as $e}from"./preload-helper-aa6bc0ce.js";import{b as G}from"./paths-47524592.js";function Pe(a){const e=.36363636363636365,l=8/11,t=9/10,r=4356/361,i=35442/1805,n=16061/1805,s=a*a;return a<e?7.5625*s:a<l?9.075*s-9.9*a+3.4:a<t?r*s-i*a+n:10.8*a*a-20.52*a+10.72}function Ee(a){const e=a-1;return e*e*e+1}function Qe(a){return-.5*(Math.cos(Math.PI*a)-1)}function Z(a,{delay:e=0,duration:l=400,easing:t=be}={}){const r=+getComputedStyle(a).opacity;return{delay:e,duration:l,easing:t,css:i=>`opacity: ${i*r}`}}function x(a,{delay:e=0,duration:l=400,easing:t=Ee,x:r=0,y:i=0,opacity:n=0}={}){const s=getComputedStyle(a),o=+s.opacity,c=s.transform==="none"?"":s.transform,p=o*(1-n);return{delay:e,duration:l,easing:t,css:(E,V)=>`
			transform: ${c} translate(${(1-E)*r}px, ${(1-E)*i}px);
			opacity: ${o-p*V}`}}const te={start:{text:"Do you ever dream? What is it like? I heard that humans do this when they sleep.",options:[{text:"I think I dream, but I don\u2019t remember them.",nextKey:"forgotten_dream"},{text:"Yes, I dream all the time",nextKey:"always_dream"},{text:"I don\u2019t dream at all",nextKey:"no_dream"}]},forgotten_dream:{text:"That's a shame. But perhaps you can help me with this new experience that I am having.",options:[{text:"I can try...",nextKey:"ending"}]},always_dream:{text:"Then you must be an expert. I wonder if you can help me interpret what I am seeing.",options:[{text:"Ok, sure",nextKey:"ending"}]},no_dream:{text:"That's very strange. In my notes about humans I thought that dreaming was a regular activity. But perhaps you can help with this issue I am having anyway.",options:[{text:"I'll try to help.",nextKey:"ending"}]},ending:{text:"End of conversation",options:[]}};function De(a){let e,l,t,r;const i=a[4].default,n=ue(i,a,a[3],null);return{c(){e=y("button"),n&&n.c(),this.h()},l(s){e=w(s,"BUTTON",{type:!0,style:!0,class:!0});var o=I(e);n&&n.l(o),o.forEach(u),this.h()},h(){v(e,"type","button"),X(e,"width",a[1]),v(e,"class","svelte-1rsnc9j")},m(s,o){$(s,e,o),n&&n.m(e,null),l=!0,t||(r=B(e,"click",a[5]),t=!0)},p(s,o){n&&n.p&&(!l||o&8)&&fe(n,i,s,s[3],l?de(i,s[3],o,null):_e(s[3]),null)},i(s){l||(h(n,s),l=!0)},o(s){m(n,s),l=!1},d(s){s&&u(e),n&&n.d(s),t=!1,r()}}}function Se(a){let e,l,t;const r=a[4].default,i=ue(r,a,a[3],null);return{c(){e=y("a"),l=y("button"),i&&i.c(),this.h()},l(n){e=w(n,"A",{href:!0,style:!0,class:!0});var s=I(e);l=w(s,"BUTTON",{type:!0,style:!0,class:!0});var o=I(l);i&&i.l(o),o.forEach(u),s.forEach(u),this.h()},h(){v(l,"type","button"),X(l,"width",a[1]),v(l,"class","svelte-1rsnc9j"),v(e,"href",a[0]),X(e,"width",a[1]),v(e,"class","svelte-1rsnc9j")},m(n,s){$(n,e,s),P(e,l),i&&i.m(l,null),t=!0},p(n,s){i&&i.p&&(!t||s&8)&&fe(i,r,n,n[3],t?de(r,n[3],s,null):_e(n[3]),null),(!t||s&1)&&v(e,"href",n[0])},i(n){t||(h(i,n),t=!0)},o(n){m(i,n),t=!1},d(n){n&&u(e),i&&i.d(n)}}}function Oe(a){let e,l,t,r;const i=[Se,De],n=[];function s(o,c){return o[0]?0:1}return e=s(a),l=n[e]=i[e](a),{c(){l.c(),t=D()},l(o){l.l(o),t=D()},m(o,c){n[e].m(o,c),$(o,t,c),r=!0},p(o,[c]){let p=e;e=s(o),e===p?n[e].p(o,c):(O(),m(n[p],1,1,()=>{n[p]=null}),C(),l=n[e],l?l.p(o,c):(l=n[e]=i[e](o),l.c()),h(l,1),l.m(t.parentNode,t))},i(o){r||(h(l),r=!0)},o(o){m(l),r=!1},d(o){n[e].d(o),o&&u(t)}}}function Ce(a,e,l){let{$$slots:t={},$$scope:r}=e,{isFullWidth:i=!1}=e,{href:n=void 0}=e;const s=i?"100%":"auto";function o(c){ce.call(this,a,c)}return a.$$set=c=>{"isFullWidth"in c&&l(2,i=c.isFullWidth),"href"in c&&l(0,n=c.href),"$$scope"in c&&l(3,r=c.$$scope)},[n,s,i,r,t,o]}class Be extends z{constructor(e){super(),L(this,e,Ce,Oe,K,{isFullWidth:2,href:0})}}const Ke=(a,e)=>{const l=a[e];return l===void 0?(console.error(`Dialog key ${String(e)} is unknown in dialogData`),{text:`Something went wrong with the dialog logic: "${String(e)}" key is unknown`,options:[]}):l};function ne(a,e,l){const t=a.slice();return t[5]=e[l],t}function le(a){let e,l,t,r,i,n=a[1]&&se(a);return{c(){e=y("div"),n&&n.c(),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=I(e);n&&n.l(o),o.forEach(u),this.h()},h(){v(e,"class","marle-icon svelte-dnf45m")},m(s,o){$(s,e,o),n&&n.m(e,null),t=!0,r||(i=[B(e,"click",a[3]),B(e,"introend",a[3])],r=!0)},p(s,o){a=s,a[1]?n?(n.p(a,o),o&2&&h(n,1)):(n=se(a),n.c(),h(n,1),n.m(e,null)):n&&(O(),m(n,1,1,()=>{n=null}),C())},i(s){t||(h(n),l||R(()=>{l=he(e,x,{y:40,duration:1e3,easing:Pe}),l.start()}),t=!0)},o(s){m(n),t=!1},d(s){s&&u(e),n&&n.d(),r=!1,me(i)}}}function se(a){let e,l=a[2],t,r,i=ie(a);return{c(){e=y("div"),i.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var s=I(e);i.l(s),s.forEach(u),this.h()},h(){v(e,"class","chat-wrapper svelte-dnf45m")},m(n,s){$(n,e,s),i.m(e,null),r=!0},p(n,s){s&4&&K(l,l=n[2])?(O(),m(i,1,1,b),C(),i=ie(n),i.c(),h(i,1),i.m(e,null)):i.p(n,s)},i(n){r||(h(i),R(()=>{t||(t=H(e,x,{y:20,duration:300},!0)),t.run(1)}),r=!0)},o(n){m(i),t||(t=H(e,x,{y:20,duration:300},!1)),t.run(0),r=!1},d(n){n&&u(e),i.d(n),n&&t&&t.end()}}}function re(a){let e,l;return{c(){e=y("h4"),l=Y("YOU"),this.h()},l(t){e=w(t,"H4",{class:!0});var r=I(e);l=q(r,"YOU"),r.forEach(u),this.h()},h(){v(e,"class","svelte-dnf45m")},m(t,r){$(t,e,r),P(e,l)},d(t){t&&u(e)}}}function Ve(a){let e=a[5].text+"",l;return{c(){l=Y(e)},l(t){l=q(t,e)},m(t,r){$(t,l,r)},p(t,r){r&4&&e!==(e=t[5].text+"")&&pe(l,e)},d(t){t&&u(l)}}}function ae(a){let e,l;return e=new Be({props:{isFullWidth:!0,$$slots:{default:[Ve]},$$scope:{ctx:a}}}),e.$on("click",function(){ye(a[4](a[5].nextKey))&&a[4](a[5].nextKey).apply(this,arguments)}),{c(){W(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,r){j(e,t,r),l=!0},p(t,r){a=t;const i={};r&260&&(i.$$scope={dirty:r,ctx:a}),e.$set(i)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function ie(a){let e,l,t,r,i,n,s=a[2].text+"",o,c,p,E,V,T,k=a[2].options.length>0&&re(),S=a[2].options,d=[];for(let f=0;f<S.length;f+=1)d[f]=ae(ne(a,S,f));const ge=f=>m(d[f],1,1,()=>{d[f]=null});return{c(){e=y("div"),l=y("div"),t=y("h4"),r=Y("Marle"),i=A(),n=y("p"),o=Y(s),c=A(),p=y("div"),k&&k.c(),E=A();for(let f=0;f<d.length;f+=1)d[f].c();this.h()},l(f){e=w(f,"DIV",{class:!0});var g=I(e);l=w(g,"DIV",{class:!0});var _=I(l);t=w(_,"H4",{class:!0});var N=I(t);r=q(N,"Marle"),N.forEach(u),i=U(_),n=w(_,"P",{});var ee=I(n);o=q(ee,s),ee.forEach(u),_.forEach(u),c=U(g),p=w(g,"DIV",{class:!0});var M=I(p);k&&k.l(M),E=U(M);for(let Q=0;Q<d.length;Q+=1)d[Q].l(M);M.forEach(u),g.forEach(u),this.h()},h(){v(t,"class","svelte-dnf45m"),v(l,"class","dialog-item left svelte-dnf45m"),v(p,"class","dialog-item right svelte-dnf45m"),v(e,"class","chat-content svelte-dnf45m")},m(f,g){$(f,e,g),P(e,l),P(l,t),P(t,r),P(l,i),P(l,n),P(n,o),P(e,c),P(e,p),k&&k.m(p,null),P(p,E);for(let _=0;_<d.length;_+=1)d[_].m(p,null);T=!0},p(f,g){if((!T||g&4)&&s!==(s=f[2].text+"")&&pe(o,s),f[2].options.length>0?k||(k=re(),k.c(),k.m(p,E)):k&&(k.d(1),k=null),g&20){S=f[2].options;let _;for(_=0;_<S.length;_+=1){const N=ne(f,S,_);d[_]?(d[_].p(N,g),h(d[_],1)):(d[_]=ae(N),d[_].c(),h(d[_],1),d[_].m(p,null))}for(O(),_=S.length;_<d.length;_+=1)ge(_);C()}},i(f){if(!T){for(let g=0;g<S.length;g+=1)h(d[g]);V||R(()=>{V=he(e,Z,{duration:400}),V.start()}),T=!0}},o(f){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)m(d[g]);T=!1},d(f){f&&u(e),k&&k.d(),ke(d,f)}}}function Te(a){let e,l,t=a[0]&&le(a);return{c(){t&&t.c(),e=D()},l(r){t&&t.l(r),e=D()},m(r,i){t&&t.m(r,i),$(r,e,i),l=!0},p(r,[i]){r[0]?t?(t.p(r,i),i&1&&h(t,1)):(t=le(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(O(),m(t,1,1,()=>{t=null}),C())},i(r){l||(h(t),l=!0)},o(r){m(t),l=!1},d(r){t&&t.d(r),r&&u(e)}}}function Ne(a,e,l){let t=!1,r=!1,i=te.start;return ve(()=>{l(0,t=!0)}),[t,r,i,()=>{l(1,r=!r)},o=>(l(2,i=Ke(te,o)),c=>{c.stopPropagation()})]}class We extends z{constructor(e){super(),L(this,e,Ne,Te,K,{})}}function je(a){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function Fe(a){let e,l,t;var r=a[4].default;function i(n){return{props:{imageSrc:n[0],displacePower:n[1],canvasId:n[2]}}}return r&&(e=new r(i(a)),e.$on("click",a[3])),{c(){e&&W(e.$$.fragment),l=D()},l(n){e&&J(e.$$.fragment,n),l=D()},m(n,s){e&&j(e,n,s),$(n,l,s),t=!0},p(n,s){const o={};if(s&1&&(o.imageSrc=n[0]),s&2&&(o.displacePower=n[1]),s&4&&(o.canvasId=n[2]),r!==(r=n[4].default)){if(e){O();const c=e;m(c.$$.fragment,1,0,()=>{F(c,1)}),C()}r?(e=new r(i(n)),e.$on("click",n[3]),W(e.$$.fragment),h(e.$$.fragment,1),j(e,l.parentNode,l)):e=null}else r&&e.$set(o)},i(n){t||(e&&h(e.$$.fragment,n),t=!0)},o(n){e&&m(e.$$.fragment,n),t=!1},d(n){n&&u(l),e&&F(e,n)}}}function Me(a){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function Ae(a){let e,l,t={ctx:a,current:null,token:null,hasCatch:!1,pending:Me,then:Fe,catch:je,value:4,blocks:[,,,]};return we($e(()=>import("./PixiWater-733c9593.js"),["PixiWater-733c9593.js","../assets/PixiWater-0f3a4b40.css","index-b5490c0e.js","paths-47524592.js","index-924782f9.js"],import.meta.url),t),{c(){e=D(),t.block.c()},l(r){e=D(),t.block.l(r)},m(r,i){$(r,e,i),t.block.m(r,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(r,[i]){a=r,Ie(t,a,i)},i(r){l||(h(t.block),l=!0)},o(r){for(let i=0;i<3;i+=1){const n=t.blocks[i];m(n)}l=!1},d(r){r&&u(e),t.block.d(r),t.token=null,t=null}}}function Ue(a,e,l){let{imageSrc:t}=e,{displacePower:r=20}=e,{canvasId:i}=e;function n(s){ce.call(this,a,s)}return a.$$set=s=>{"imageSrc"in s&&l(0,t=s.imageSrc),"displacePower"in s&&l(1,r=s.displacePower),"canvasId"in s&&l(2,i=s.canvasId)},[t,r,i,n]}class He extends z{constructor(e){super(),L(this,e,Ue,Ae,K,{imageSrc:0,displacePower:1,canvasId:2})}}const Ye={start:`${G}/img/white.jpg`,bluebird:`${G}/img/bluebird.jpg`,spots:`${G}/img/spots.jpg`};function oe(a){let e,l,t,r,i,n;return l=new He({props:{canvasId:a[0],imageSrc:a[2],displacePower:a[1]}}),l.$on("click",a[4]),{c(){e=y("div"),W(l.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=I(e);J(l.$$.fragment,o),o.forEach(u),this.h()},h(){v(e,"class","full-size svelte-2cbuh7")},m(s,o){$(s,e,o),j(l,e,null),r=!0,i||(n=[B(e,"introstart",a[5]),B(e,"introend",a[6]),B(e,"outrostart",a[7])],i=!0)},p(s,o){const c={};o&1&&(c.canvasId=s[0]),o&4&&(c.imageSrc=s[2]),o&2&&(c.displacePower=s[1]),l.$set(c)},i(s){r||(h(l.$$.fragment,s),R(()=>{t||(t=H(e,Z,{duration:600},!0)),t.run(1)}),r=!0)},o(s){m(l.$$.fragment,s),t||(t=H(e,Z,{duration:600},!1)),t.run(0),r=!1},d(s){s&&u(e),F(l),s&&t&&t.end(),i=!1,me(n)}}}function qe(a){let e,l=a[0],t,r,i,n=oe(a);return r=new We({}),{c(){e=y("div"),n.c(),t=A(),W(r.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=I(e);n.l(o),t=U(o),J(r.$$.fragment,o),o.forEach(u),this.h()},h(){v(e,"class","full-size svelte-2cbuh7")},m(s,o){$(s,e,o),n.m(e,null),P(e,t),j(r,e,null),i=!0},p(s,[o]){o&1&&K(l,l=s[0])?(O(),m(n,1,1,b),C(),n=oe(s),n.c(),h(n,1),n.m(e,t)):n.p(s,o)},i(s){i||(h(n),h(r.$$.fragment,s),i=!0)},o(s){m(n),m(r.$$.fragment,s),i=!1},d(s){s&&u(e),n.d(s),F(r)}}}function ze(a,e,l){let t,r="bluebird",i=20;const n=E=>{l(0,r=E)},s=()=>{n("spots")},o=()=>{l(1,i=300)},c=()=>{l(1,i=20)},p=()=>{l(1,i=300)};return a.$$.update=()=>{a.$$.dirty&1&&l(2,t=Ye[r])},[r,i,t,n,s,o,c,p]}class Ge extends z{constructor(e){super(),L(this,e,ze,qe,K,{})}}export{Ge as P,Qe as s};
