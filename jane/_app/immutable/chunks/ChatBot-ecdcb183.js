import{T as ce,S as x,i as ee,s as q,e as F,b as D,g as M,t as k,d as S,f as g,h as d,U as te,E as le,k as y,l as w,m as E,n as b,p as W,M as $,F as ne,G as se,H as oe,I as v,o as ue,V as A,W as re,C as fe,X as _e,A as he,Y as K,q as T,a as H,r as U,c as P,u as ie,N as de,D as me,v as pe,w as ge,x as be,y as ke}from"./index-159fdd70.js";function ve(s){const e=.36363636363636365,l=8/11,t=9/10,r=4356/361,a=35442/1805,n=16061/1805,o=s*s;return s<e?7.5625*o:s<l?9.075*o-9.9*s+3.4:s<t?r*o-a*s+n:10.8*s*s-20.52*s+10.72}function ye(s){const e=s-1;return e*e*e+1}function je(s){return-.5*(Math.cos(Math.PI*s)-1)}function we(s,{delay:e=0,duration:l=400,easing:t=ce}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:l,easing:t,css:a=>`opacity: ${a*r}`}}function Y(s,{delay:e=0,duration:l=400,easing:t=ye,x:r=0,y:a=0,opacity:n=0}={}){const o=getComputedStyle(s),i=+o.opacity,c=o.transform==="none"?"":o.transform,u=i*(1-n);return{delay:e,duration:l,easing:t,css:(C,I)=>`
			transform: ${c} translate(${(1-C)*r}px, ${(1-C)*a}px);
			opacity: ${i-u*I}`}}function Ee(s){let e,l,t,r;const a=s[4].default,n=le(a,s,s[3],null);return{c(){e=y("button"),n&&n.c(),this.h()},l(o){e=w(o,"BUTTON",{type:!0,style:!0,class:!0});var i=E(e);n&&n.l(i),i.forEach(d),this.h()},h(){b(e,"type","button"),W(e,"width",s[1]),b(e,"class","svelte-1rsnc9j")},m(o,i){D(o,e,i),n&&n.m(e,null),l=!0,t||(r=$(e,"click",s[5]),t=!0)},p(o,i){n&&n.p&&(!l||i&8)&&ne(n,a,o,o[3],l?oe(a,o[3],i,null):se(o[3]),null)},i(o){l||(g(n,o),l=!0)},o(o){k(n,o),l=!1},d(o){o&&d(e),n&&n.d(o),t=!1,r()}}}function Ce(s){let e,l,t;const r=s[4].default,a=le(r,s,s[3],null);return{c(){e=y("a"),l=y("button"),a&&a.c(),this.h()},l(n){e=w(n,"A",{href:!0,style:!0,class:!0});var o=E(e);l=w(o,"BUTTON",{type:!0,style:!0,class:!0});var i=E(l);a&&a.l(i),i.forEach(d),o.forEach(d),this.h()},h(){b(l,"type","button"),W(l,"width",s[1]),b(l,"class","svelte-1rsnc9j"),b(e,"href",s[0]),W(e,"width",s[1]),b(e,"class","svelte-1rsnc9j")},m(n,o){D(n,e,o),v(e,l),a&&a.m(l,null),t=!0},p(n,o){a&&a.p&&(!t||o&8)&&ne(a,r,n,n[3],t?oe(r,n[3],o,null):se(n[3]),null),(!t||o&1)&&b(e,"href",n[0])},i(n){t||(g(a,n),t=!0)},o(n){k(a,n),t=!1},d(n){n&&d(e),a&&a.d(n)}}}function De(s){let e,l,t,r;const a=[Ce,Ee],n=[];function o(i,c){return i[0]?0:1}return e=o(s),l=n[e]=a[e](s),{c(){l.c(),t=F()},l(i){l.l(i),t=F()},m(i,c){n[e].m(i,c),D(i,t,c),r=!0},p(i,[c]){let u=e;e=o(i),e===u?n[e].p(i,c):(M(),k(n[u],1,1,()=>{n[u]=null}),S(),l=n[e],l?l.p(i,c):(l=n[e]=a[e](i),l.c()),g(l,1),l.m(t.parentNode,t))},i(i){r||(g(l),r=!0)},o(i){k(l),r=!1},d(i){n[e].d(i),i&&d(t)}}}function Ie(s,e,l){let{$$slots:t={},$$scope:r}=e,{isFullWidth:a=!1}=e,{href:n=void 0}=e;const o=a?"100%":"auto";function i(c){te.call(this,s,c)}return s.$$set=c=>{"isFullWidth"in c&&l(2,a=c.isFullWidth),"href"in c&&l(0,n=c.href),"$$scope"in c&&l(3,r=c.$$scope)},[n,o,a,r,t,i]}class Oe extends x{constructor(e){super(),ee(this,e,Ie,De,q,{isFullWidth:2,href:0})}}const R=(s,e)=>{const l=s[e];return l===void 0?(console.error(`Dialog key ${String(e)} is unknown in dialogData`),{text:`Something went wrong with the dialog logic: "${String(e)}" key is unknown`,options:[]}):l};function X(s,e,l){const t=s.slice();return t[7]=e[l],t}function z(s){let e,l,t,r,a,n=s[1]&&J(s);return{c(){e=y("div"),n&&n.c(),this.h()},l(o){e=w(o,"DIV",{class:!0,style:!0});var i=E(e);n&&n.l(i),i.forEach(d),this.h()},h(){b(e,"class","marle-icon svelte-1k1r9r8"),W(e,"background-image","url('https://raw.githubusercontent.com/j-fan/marle-images/main/jane/img/marle_green.jpg')")},m(o,i){D(o,e,i),n&&n.m(e,null),t=!0,r||(a=[$(e,"introend",s[3]),$(e,"click",s[3])],r=!0)},p(o,i){s=o,s[1]?n?(n.p(s,i),i&2&&g(n,1)):(n=J(s),n.c(),g(n,1),n.m(e,null)):n&&(M(),k(n,1,1,()=>{n=null}),S())},i(o){t||(g(n),l||A(()=>{l=re(e,Y,{y:40,duration:1e3,easing:ve}),l.start()}),t=!0)},o(o){k(n),t=!1},d(o){o&&d(e),n&&n.d(),r=!1,fe(a)}}}function J(s){let e,l=s[2],t,r,a,n,o=Z(s);return{c(){e=y("div"),o.c(),this.h()},l(i){e=w(i,"DIV",{class:!0});var c=E(e);o.l(c),c.forEach(d),this.h()},h(){b(e,"class","chat-wrapper svelte-1k1r9r8")},m(i,c){D(i,e,c),o.m(e,null),r=!0,a||(n=$(e,"click",_e(s[6])),a=!0)},p(i,c){c&4&&q(l,l=i[2])?(M(),k(o,1,1,he),S(),o=Z(i),o.c(),g(o,1),o.m(e,null)):o.p(i,c)},i(i){r||(g(o),A(()=>{t||(t=K(e,Y,{y:20,duration:300,delay:500},!0)),t.run(1)}),r=!0)},o(i){k(o),t||(t=K(e,Y,{y:20,duration:300,delay:500},!1)),t.run(0),r=!1},d(i){i&&d(e),o.d(i),i&&t&&t.end(),a=!1,n()}}}function L(s){let e,l;return{c(){e=y("h4"),l=T("YOU"),this.h()},l(t){e=w(t,"H4",{class:!0});var r=E(e);l=U(r,"YOU"),r.forEach(d),this.h()},h(){b(e,"class","svelte-1k1r9r8")},m(t,r){D(t,e,r),v(e,l)},d(t){t&&d(e)}}}function Ve(s){let e=s[7].text+"",l;return{c(){l=T(e)},l(t){l=U(t,e)},m(t,r){D(t,l,r)},p(t,r){r&4&&e!==(e=t[7].text+"")&&ie(l,e)},d(t){t&&d(l)}}}function Q(s){let e,l;return e=new Oe({props:{isFullWidth:!0,href:s[7].href,$$slots:{default:[Ve]},$$scope:{ctx:s}}}),e.$on("click",function(){me(s[4](s[7]))&&s[4](s[7]).apply(this,arguments)}),{c(){pe(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){be(e,t,r),l=!0},p(t,r){s=t;const a={};r&4&&(a.href=s[7].href),r&1028&&(a.$$scope={dirty:r,ctx:s}),e.$set(a)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function Z(s){let e,l,t,r,a,n,o=s[2].text+"",i,c,u,C,I,O,m=s[2].options.length>0&&L(),V=s[2].options,h=[];for(let f=0;f<V.length;f+=1)h[f]=Q(X(s,V,f));const ae=f=>k(h[f],1,1,()=>{h[f]=null});return{c(){e=y("div"),l=y("div"),t=y("h4"),r=T("Marle"),a=H(),n=y("p"),i=T(o),c=H(),u=y("div"),m&&m.c(),C=H();for(let f=0;f<h.length;f+=1)h[f].c();this.h()},l(f){e=w(f,"DIV",{class:!0});var p=E(e);l=w(p,"DIV",{class:!0});var _=E(l);t=w(_,"H4",{class:!0});var B=E(t);r=U(B,"Marle"),B.forEach(d),a=P(_),n=w(_,"P",{});var G=E(n);i=U(G,o),G.forEach(d),_.forEach(d),c=P(p),u=w(p,"DIV",{class:!0});var j=E(u);m&&m.l(j),C=P(j);for(let N=0;N<h.length;N+=1)h[N].l(j);j.forEach(d),p.forEach(d),this.h()},h(){b(t,"class","svelte-1k1r9r8"),b(l,"class","dialog-item left svelte-1k1r9r8"),b(u,"class","dialog-item right svelte-1k1r9r8"),b(e,"class","chat-content svelte-1k1r9r8")},m(f,p){D(f,e,p),v(e,l),v(l,t),v(t,r),v(l,a),v(l,n),v(n,i),v(e,c),v(e,u),m&&m.m(u,null),v(u,C);for(let _=0;_<h.length;_+=1)h[_].m(u,null);O=!0},p(f,p){if((!O||p&4)&&o!==(o=f[2].text+"")&&ie(i,o),f[2].options.length>0?m||(m=L(),m.c(),m.m(u,C)):m&&(m.d(1),m=null),p&20){V=f[2].options;let _;for(_=0;_<V.length;_+=1){const B=X(f,V,_);h[_]?(h[_].p(B,p),g(h[_],1)):(h[_]=Q(B),h[_].c(),g(h[_],1),h[_].m(u,null))}for(M(),_=V.length;_<h.length;_+=1)ae(_);S()}},i(f){if(!O){for(let p=0;p<V.length;p+=1)g(h[p]);I||A(()=>{I=re(e,we,{duration:400}),I.start()}),O=!0}},o(f){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)k(h[p]);O=!1},d(f){f&&d(e),m&&m.d(),de(h,f)}}}function Be(s){let e,l,t=s[0]&&z(s);return{c(){t&&t.c(),e=F()},l(r){t&&t.l(r),e=F()},m(r,a){t&&t.m(r,a),D(r,e,a),l=!0},p(r,[a]){r[0]?t?(t.p(r,a),a&1&&g(t,1)):(t=z(r),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(M(),k(t,1,1,()=>{t=null}),S())},i(r){l||(g(t),l=!0)},o(r){k(t),l=!1},d(r){t&&t.d(r),r&&d(e)}}}function Me(s,e,l){let{dialogData:t}=e,r=!1,a=!1,n=t.start;ue(()=>{l(0,r=!0)});const o=()=>{l(1,a=!a)},i=u=>async C=>{var O,m;C.stopPropagation(),l(2,n=R(t,u.nextKey));const I=await((O=n.onMount)==null?void 0:O.call(n));I&&l(2,n=R(t,I)),(m=u.onClick)==null||m.call(u)};function c(u){te.call(this,s,u)}return s.$$set=u=>{"dialogData"in u&&l(5,t=u.dialogData)},[r,a,n,o,i,t,c]}class Fe extends x{constructor(e){super(),ee(this,e,Me,Be,q,{dialogData:5})}}export{Fe as C,we as f,je as s};
