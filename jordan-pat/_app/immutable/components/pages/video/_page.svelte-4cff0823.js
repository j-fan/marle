import{S as j,i as D,s as J,k as S,q as E,a as q,l as C,m as V,r as I,h as m,c as A,n as h,I as L,b as w,F as y,J as M,u as z,A as F,H as G,o as Q,K as X,L as Y,M as Z}from"../../../chunks/index-cd6ed3a9.js";function K(s,a,c){const n=s.slice();return n[10]=a[c][0],n[11]=a[c][1],n[13]=c,n}function P(s){let a,c,n,t,_,k,b,T;function v(){return s[3](s[10],s[13])}function i(){return s[4](s[11],s[13])}return{c(){a=S("button"),c=E(s[13]),n=q(),t=S("button"),_=E("T"),k=E(s[13]),this.h()},l(r){a=C(r,"BUTTON",{id:!0,class:!0});var d=V(a);c=I(d,s[13]),d.forEach(m),n=A(r),t=C(r,"BUTTON",{id:!0,class:!0});var l=V(t);_=I(l,"T"),k=I(l,s[13]),l.forEach(m),this.h()},h(){h(a,"id","c"+s[13]),h(a,"class",W),h(t,"id","t"+s[13]),h(t,"class",W)},m(r,d){w(r,a,d),y(a,c),w(r,n,d),w(r,t,d),y(t,_),y(t,k),b||(T=[M(a,"click",v),M(t,"click",i)],b=!0)},p(r,d){s=r},d(r){r&&m(a),r&&m(n),r&&m(t),b=!1,X(T)}}}function $(s){let a,c,n,t,_,k,b,T,v,i,r,d,l,u=!1,g,U,R,N=s[2],f=[];for(let e=0;e<N.length;e+=1)f[e]=P(K(s,N,e));function B(){cancelAnimationFrame(g),i.paused||(g=Z(B),u=!0),s[6].call(i)}return{c(){a=S("h1"),c=E("Video Test"),n=q(),t=S("p"),_=E("Current timestamp: "),k=E(s[0]),b=E("s"),T=q();for(let e=0;e<f.length;e+=1)f[e].c();v=q(),i=S("video"),r=S("track"),d=S("source"),this.h()},l(e){a=C(e,"H1",{});var p=V(a);c=I(p,"Video Test"),p.forEach(m),n=A(e),t=C(e,"P",{class:!0});var o=V(t);_=I(o,"Current timestamp: "),k=I(o,s[0]),b=I(o,"s"),o.forEach(m),T=A(e);for(let H=0;H<f.length;H+=1)f[H].l(e);v=A(e),i=C(e,"VIDEO",{id:!0,class:!0,defaultmuted:!0,disablepictureinpicture:!0,preload:!0,width:!0});var O=V(i);r=C(O,"TRACK",{kind:!0}),d=C(O,"SOURCE",{src:!0,type:!0}),O.forEach(m),this.h()},h(){h(t,"class","text-3xl font-bold underline"),h(r,"kind","captions"),L(d.src,l=ee)||h(d,"src",l),h(d,"type","video/mp4"),h(i,"id","vid"),h(i,"class","video-js"),i.autoplay=!0,i.loop=!0,i.muted=!0,i.playsInline=!0,h(i,"defaultmuted",""),h(i,"disablepictureinpicture",""),h(i,"preload","auto"),h(i,"width","1280")},m(e,p){w(e,a,p),y(a,c),w(e,n,p),w(e,t,p),y(t,_),y(t,k),y(t,b),w(e,T,p);for(let o=0;o<f.length;o+=1)f[o].m(e,p);w(e,v,p),w(e,i,p),y(i,r),y(i,d),s[5](i),U||(R=M(i,"timeupdate",B),U=!0)},p(e,[p]){if(p&1&&z(k,e[0]),p&5){N=e[2];let o;for(o=0;o<N.length;o+=1){const O=K(e,N,o);f[o]?f[o].p(O,p):(f[o]=P(O),f[o].c(),f[o].m(v.parentNode,v))}for(;o<f.length;o+=1)f[o].d(1);f.length=N.length}!u&&p&1&&!isNaN(e[0])&&(i.currentTime=e[0]),u=!1},i:F,o:F,d(e){e&&m(a),e&&m(n),e&&m(t),e&&m(T),G(f,e),e&&m(v),e&&m(i),s[5](null),U=!1,R()}}}const x=.1,W="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",ee="https://github.com/CallumHoward/marle-media/raw/main/Marle_VideoTest.mp4";function te(s,a,c){let n=0,t;const _=[[0,1.3],[5.2,6.4],[10.4,11.6],[15.6,16.8],[20.8,22]],k=l=>{for(const u of _){const[g,U]=u;if(g<=l&&l<U)return u}},b=(l,u)=>{l.fastSeek?l.fastSeek(u):c(1,t.currentTime=u,t)},T=()=>{const l=k(n);if(!l)return;const[u,g]=l;n>=g-x&&(b(t,u),t.play())};Q(()=>{const l=window.location.hash.replace("#","");if(l.startsWith("c")){const[u]=l.match(/\d+/)||["0"];b(t,_[parseInt(u)][0])}else if(l.startsWith("t")){const[u]=l.match(/\d+/)||["0"];b(t,_[parseInt(u)][1])}});const v=(l,u)=>{c(0,n=l),window.location.hash=`c${u}`},i=(l,u)=>{c(0,n=l),window.location.hash=`t${u}`};function r(l){Y[l?"unshift":"push"](()=>{t=l,c(1,t)})}function d(){n=this.currentTime,c(0,n)}return s.$$.update=()=>{s.$$.dirty&1&&(c(0,n),T())},[n,t,_,v,i,r,d]}class le extends j{constructor(a){super(),D(this,a,te,$,J,{})}}export{le as default};
