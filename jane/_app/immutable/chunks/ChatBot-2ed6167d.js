import{S as x,i as ee,s as A,e as S,b as D,g as j,t as g,d as F,f as k,h as d,W as te,E as le,k as y,l as w,m as E,n as v,p as M,P as T,F as se,G as ne,H as ie,I as b,o as ue,J as K,X as re,C as fe,Y as ce,A as _e,K as J,q as U,a as P,r as H,c as Y,u as ae,Q as he,D as de,v as me,w as pe,x as ke,y as ve}from"./index-d8929941.js";import{f as q,b as ge,a as be}from"./index-ccead921.js";function ye(n){let e,l,t,r;const o=n[4].default,s=le(o,n,n[3],null);return{c(){e=y("button"),s&&s.c(),this.h()},l(i){e=w(i,"BUTTON",{type:!0,style:!0,class:!0});var a=E(e);s&&s.l(a),a.forEach(d),this.h()},h(){v(e,"type","button"),M(e,"width",n[1]),v(e,"class","svelte-1rsnc9j")},m(i,a){D(i,e,a),s&&s.m(e,null),l=!0,t||(r=T(e,"click",n[5]),t=!0)},p(i,a){s&&s.p&&(!l||a&8)&&se(s,o,i,i[3],l?ie(o,i[3],a,null):ne(i[3]),null)},i(i){l||(k(s,i),l=!0)},o(i){g(s,i),l=!1},d(i){i&&d(e),s&&s.d(i),t=!1,r()}}}function we(n){let e,l,t;const r=n[4].default,o=le(r,n,n[3],null);return{c(){e=y("a"),l=y("button"),o&&o.c(),this.h()},l(s){e=w(s,"A",{href:!0,style:!0,class:!0});var i=E(e);l=w(i,"BUTTON",{type:!0,style:!0,class:!0});var a=E(l);o&&o.l(a),a.forEach(d),i.forEach(d),this.h()},h(){v(l,"type","button"),M(l,"width",n[1]),v(l,"class","svelte-1rsnc9j"),v(e,"href",n[0]),M(e,"width",n[1]),v(e,"class","svelte-1rsnc9j")},m(s,i){D(s,e,i),b(e,l),o&&o.m(l,null),t=!0},p(s,i){o&&o.p&&(!t||i&8)&&se(o,r,s,s[3],t?ie(r,s[3],i,null):ne(s[3]),null),(!t||i&1)&&v(e,"href",s[0])},i(s){t||(k(o,s),t=!0)},o(s){g(o,s),t=!1},d(s){s&&d(e),o&&o.d(s)}}}function Ee(n){let e,l,t,r;const o=[we,ye],s=[];function i(a,u){return a[0]?0:1}return e=i(n),l=s[e]=o[e](n),{c(){l.c(),t=S()},l(a){l.l(a),t=S()},m(a,u){s[e].m(a,u),D(a,t,u),r=!0},p(a,[u]){let c=e;e=i(a),e===c?s[e].p(a,u):(j(),g(s[c],1,1,()=>{s[c]=null}),F(),l=s[e],l?l.p(a,u):(l=s[e]=o[e](a),l.c()),k(l,1),l.m(t.parentNode,t))},i(a){r||(k(l),r=!0)},o(a){g(l),r=!1},d(a){s[e].d(a),a&&d(t)}}}function De(n,e,l){let{$$slots:t={},$$scope:r}=e,{isFullWidth:o=!1}=e,{href:s=void 0}=e;const i=o?"100%":"auto";function a(u){te.call(this,n,u)}return n.$$set=u=>{"isFullWidth"in u&&l(2,o=u.isFullWidth),"href"in u&&l(0,s=u.href),"$$scope"in u&&l(3,r=u.$$scope)},[s,i,o,r,t,a]}class Ce extends x{constructor(e){super(),ee(this,e,De,Ee,A,{isFullWidth:2,href:0})}}const Q=(n,e)=>{const l=n[e];return l===void 0?(console.error(`Dialog key ${String(e)} is unknown in dialogData`),{text:`Something went wrong with the dialog logic: "${String(e)}" key is unknown`,options:[]}):l};function R(n,e,l){const t=n.slice();return t[7]=e[l],t}function X(n){let e,l,t,r,o,s=n[1]&&$(n);return{c(){e=y("div"),s&&s.c(),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var a=E(e);s&&s.l(a),a.forEach(d),this.h()},h(){v(e,"class","marle-icon svelte-1k1r9r8"),M(e,"background-image","url('https://raw.githubusercontent.com/j-fan/marle-images/main/jane/img/marle_green.jpg')")},m(i,a){D(i,e,a),s&&s.m(e,null),t=!0,r||(o=[T(e,"introend",n[3]),T(e,"click",n[3])],r=!0)},p(i,a){n=i,n[1]?s?(s.p(n,a),a&2&&k(s,1)):(s=$(n),s.c(),k(s,1),s.m(e,null)):s&&(j(),g(s,1,1,()=>{s=null}),F())},i(i){t||(k(s),l||K(()=>{l=re(e,q,{y:40,duration:1e3,easing:ge}),l.start()}),t=!0)},o(i){g(s),t=!1},d(i){i&&d(e),s&&s.d(),r=!1,fe(o)}}}function $(n){let e,l=n[2],t,r,o,s,i=Z(n);return{c(){e=y("div"),i.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=E(e);i.l(u),u.forEach(d),this.h()},h(){v(e,"class","chat-wrapper svelte-1k1r9r8")},m(a,u){D(a,e,u),i.m(e,null),r=!0,o||(s=T(e,"click",ce(n[6])),o=!0)},p(a,u){u&4&&A(l,l=a[2])?(j(),g(i,1,1,_e),F(),i=Z(a),i.c(),k(i,1),i.m(e,null)):i.p(a,u)},i(a){r||(k(i),K(()=>{t||(t=J(e,q,{y:20,duration:300,delay:500},!0)),t.run(1)}),r=!0)},o(a){g(i),t||(t=J(e,q,{y:20,duration:300,delay:500},!1)),t.run(0),r=!1},d(a){a&&d(e),i.d(a),a&&t&&t.end(),o=!1,s()}}}function z(n){let e,l;return{c(){e=y("h4"),l=U("YOU"),this.h()},l(t){e=w(t,"H4",{class:!0});var r=E(e);l=H(r,"YOU"),r.forEach(d),this.h()},h(){v(e,"class","svelte-1k1r9r8")},m(t,r){D(t,e,r),b(e,l)},d(t){t&&d(e)}}}function Be(n){let e=n[7].text+"",l;return{c(){l=U(e)},l(t){l=H(t,e)},m(t,r){D(t,l,r)},p(t,r){r&4&&e!==(e=t[7].text+"")&&ae(l,e)},d(t){t&&d(l)}}}function L(n){let e,l;return e=new Ce({props:{isFullWidth:!0,href:n[7].href,$$slots:{default:[Be]},$$scope:{ctx:n}}}),e.$on("click",function(){de(n[4](n[7]))&&n[4](n[7]).apply(this,arguments)}),{c(){me(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,r){ke(e,t,r),l=!0},p(t,r){n=t;const o={};r&4&&(o.href=n[7].href),r&1028&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){ve(e,t)}}}function Z(n){let e,l,t,r,o,s,i=n[2].text+"",a,u,c,I,O,C,m=n[2].options.length>0&&z(),B=n[2].options,h=[];for(let f=0;f<B.length;f+=1)h[f]=L(R(n,B,f));const oe=f=>g(h[f],1,1,()=>{h[f]=null});return{c(){e=y("div"),l=y("div"),t=y("h4"),r=U("Marle"),o=P(),s=y("p"),a=U(i),u=P(),c=y("div"),m&&m.c(),I=P();for(let f=0;f<h.length;f+=1)h[f].c();this.h()},l(f){e=w(f,"DIV",{class:!0});var p=E(e);l=w(p,"DIV",{class:!0});var _=E(l);t=w(_,"H4",{class:!0});var V=E(t);r=H(V,"Marle"),V.forEach(d),o=Y(_),s=w(_,"P",{});var G=E(s);a=H(G,i),G.forEach(d),_.forEach(d),u=Y(p),c=w(p,"DIV",{class:!0});var W=E(c);m&&m.l(W),I=Y(W);for(let N=0;N<h.length;N+=1)h[N].l(W);W.forEach(d),p.forEach(d),this.h()},h(){v(t,"class","svelte-1k1r9r8"),v(l,"class","dialog-item left svelte-1k1r9r8"),v(c,"class","dialog-item right svelte-1k1r9r8"),v(e,"class","chat-content svelte-1k1r9r8")},m(f,p){D(f,e,p),b(e,l),b(l,t),b(t,r),b(l,o),b(l,s),b(s,a),b(e,u),b(e,c),m&&m.m(c,null),b(c,I);for(let _=0;_<h.length;_+=1)h[_].m(c,null);C=!0},p(f,p){if((!C||p&4)&&i!==(i=f[2].text+"")&&ae(a,i),f[2].options.length>0?m||(m=z(),m.c(),m.m(c,I)):m&&(m.d(1),m=null),p&20){B=f[2].options;let _;for(_=0;_<B.length;_+=1){const V=R(f,B,_);h[_]?(h[_].p(V,p),k(h[_],1)):(h[_]=L(V),h[_].c(),k(h[_],1),h[_].m(c,null))}for(j(),_=B.length;_<h.length;_+=1)oe(_);F()}},i(f){if(!C){for(let p=0;p<B.length;p+=1)k(h[p]);O||K(()=>{O=re(e,be,{duration:400}),O.start()}),C=!0}},o(f){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)g(h[p]);C=!1},d(f){f&&d(e),m&&m.d(),he(h,f)}}}function Ie(n){let e,l,t=n[0]&&X(n);return{c(){t&&t.c(),e=S()},l(r){t&&t.l(r),e=S()},m(r,o){t&&t.m(r,o),D(r,e,o),l=!0},p(r,[o]){r[0]?t?(t.p(r,o),o&1&&k(t,1)):(t=X(r),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(j(),g(t,1,1,()=>{t=null}),F())},i(r){l||(k(t),l=!0)},o(r){g(t),l=!1},d(r){t&&t.d(r),r&&d(e)}}}function Oe(n,e,l){let{dialogData:t}=e,r=!1,o=!1,s=t.start;ue(()=>{l(0,r=!0)});const i=()=>{l(1,o=!o)},a=c=>async I=>{var C,m;I.stopPropagation(),l(2,s=Q(t,c.nextKey));const O=await((C=s.onMount)==null?void 0:C.call(s));O&&l(2,s=Q(t,O)),(m=c.onClick)==null||m.call(c)};function u(c){te.call(this,n,c)}return n.$$set=c=>{"dialogData"in c&&l(5,t=c.dialogData)},[r,o,s,i,a,t,u]}class Fe extends x{constructor(e){super(),ee(this,e,Oe,Ie,A,{dialogData:5})}}export{Fe as C};
