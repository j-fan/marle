import{J as se,S as te,i as ne,s as J,K as L,k as U,a as M,e as G,l as C,m as W,h as g,c as R,n as p,L as X,b as T,G as j,M as q,t as H,d as oe,f as D,I as le,N as Y,O as ae,j as re,o as ie,P as ue,q as Z,r as $,Q as F,p as I,u as fe,R as de,B as x,g as pe,T as ce,U as he}from"../../../chunks/index-e90c09a4.js";function _e(e,{delay:s=0,duration:l=400,easing:r=se}={}){const a=+getComputedStyle(e).opacity;return{delay:s,duration:l,easing:r,css:o=>`opacity: ${o*a}`}}const{window:B}=ue;function K(e,s,l){const r=e.slice();return r[17]=s[l][0],r[18]=s[l][1],r[20]=l,r}function P(e){let s,l,r,a,o,u,f,c,k;function N(){return e[12](e[17],e[20])}function w(){return e[13](e[18],e[20])}return{c(){s=U("button"),l=Z(e[20]),r=M(),a=U("button"),o=U("img"),f=M(),this.h()},l(d){s=C(d,"BUTTON",{id:!0,class:!0,style:!0});var m=W(s);l=$(m,e[20]),m.forEach(g),r=R(d),a=C(d,"BUTTON",{id:!0,class:!0,style:!0});var S=W(a);o=C(S,"IMG",{src:!0,alt:!0,style:!0,class:!0}),f=R(S),S.forEach(g),this.h()},h(){p(s,"id","c"+e[20]),p(s,"class",F(V)+" svelte-7orvd4"),I(s,"display","none"),X(o.src,u="https://github.com/jordaneast1/marle-media/raw/main/Glyph"+(e[20]+1)+".png")||p(o,"src",u),p(o,"alt","glyph to click"),I(o,"--colour",e[8][e[20]]),p(o,"class","svelte-7orvd4"),p(a,"id","t"+e[20]),p(a,"class",F(V)+" svelte-7orvd4"),I(a,"display",e[0]>=e[17]-3&&e[0]<=e[18]+3?"block":"none"),I(a,"opacity",e[0]>=e[17]-O&&e[0]<=e[18]+O?1:0),I(a,"transform","translate( "+(e[3]*v/y>e[4]?e[4]/2*e[7][e[20]][0]:e[3]*v/y/2*e[7][e[20]][0])+"px, "+(e[3]*v/y<e[4]?e[3]/2*e[7][e[20]][1]:e[4]*y/v/2*e[7][e[20]][1])+"px )")},m(d,m){T(d,s,m),j(s,l),T(d,r,m),T(d,a,m),j(a,o),j(a,f),c||(k=[q(s,"click",N),q(a,"click",w)],c=!0)},p(d,m){e=d,m&1&&I(a,"display",e[0]>=e[17]-3&&e[0]<=e[18]+3?"block":"none"),m&1&&I(a,"opacity",e[0]>=e[17]-O&&e[0]<=e[18]+O?1:0),m&24&&I(a,"transform","translate( "+(e[3]*v/y>e[4]?e[4]/2*e[7][e[20]][0]:e[3]*v/y/2*e[7][e[20]][0])+"px, "+(e[3]*v/y<e[4]?e[3]/2*e[7][e[20]][1]:e[4]*y/v/2*e[7][e[20]][1])+"px )")},d(d){d&&g(s),d&&g(r),d&&g(a),c=!1,Y(k)}}}function Q(e){let s,l=e[6][e[1]]+"",r,a;return{c(){s=U("h2"),r=Z(l),this.h()},l(o){s=C(o,"H2",{class:!0,style:!0});var u=W(s);r=$(u,l),u.forEach(g),this.h()},h(){p(s,"class","subtitleC svelte-7orvd4"),I(s,"transform","translate(0px,"+(e[3]*v/y<e[4]?e[3]/2*z:e[4]*y/v/2*z)+"px)")},m(o,u){T(o,s,u),j(s,r)},p(o,u){u&2&&l!==(l=o[6][o[1]]+"")&&fe(r,l),u&24&&I(s,"transform","translate(0px,"+(o[3]*v/y<o[4]?o[3]/2*z:o[4]*y/v/2*z)+"px)")},i(o){a||L(()=>{a=de(s,_e,{duration:1e4}),a.start()})},o:x,d(o){o&&g(s)}}}function me(e){let s,l,r,a,o=!1,u,f,c,k,N=e[1],w,d,m;L(e[9]);function S(){cancelAnimationFrame(u),s.paused||(u=he(S),o=!0),e[11].call(s)}let E=e[5],h=[];for(let t=0;t<E.length;t+=1)h[t]=P(K(e,E,t));let b=Q(e);return{c(){s=U("video"),l=U("track"),r=U("source"),f=M(),c=U("div");for(let t=0;t<h.length;t+=1)h[t].c();k=M(),b.c(),w=G(),this.h()},l(t){s=C(t,"VIDEO",{id:!0,class:!0,defaultmuted:!0,disablepictureinpicture:!0,preload:!0,width:!0});var _=W(s);l=C(_,"TRACK",{kind:!0}),r=C(_,"SOURCE",{src:!0,type:!0}),_.forEach(g),f=R(t),c=C(t,"DIV",{id:!0,class:!0});var n=W(c);for(let i=0;i<h.length;i+=1)h[i].l(n);n.forEach(g),k=R(t),b.l(t),w=G(),this.h()},h(){p(l,"kind","captions"),X(r.src,a=ve)||p(r,"src",a),p(r,"type","video/mp4"),p(s,"id","vid"),p(s,"class","video-js full-size svelte-7orvd4"),s.autoplay=!0,s.loop=!0,s.muted=!0,s.playsInline=!0,p(s,"defaultmuted",""),p(s,"disablepictureinpicture",""),p(s,"preload","auto"),p(s,"width","1280"),p(c,"id","butt-container"),p(c,"class","full-size svelte-7orvd4")},m(t,_){T(t,s,_),j(s,l),j(s,r),e[10](s),T(t,f,_),T(t,c,_);for(let n=0;n<h.length;n+=1)h[n].m(c,null);T(t,k,_),b.m(t,_),T(t,w,_),d||(m=[q(B,"resize",e[9]),q(s,"timeupdate",S)],d=!0)},p(t,[_]){if(!o&&_&1&&!isNaN(t[0])&&(s.currentTime=t[0]),o=!1,_&507){E=t[5];let n;for(n=0;n<E.length;n+=1){const i=K(t,E,n);h[n]?h[n].p(i,_):(h[n]=P(i),h[n].c(),h[n].m(c,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=E.length}_&2&&J(N,N=t[1])?(pe(),H(b,1,1,x),oe(),b=Q(t),b.c(),D(b,1),b.m(w.parentNode,w)):b.p(t,_)},i(t){D(b)},o(t){H(b)},d(t){t&&g(s),e[10](null),t&&g(f),t&&g(c),le(h,t),t&&g(k),t&&g(w),b.d(t),d=!1,Y(m)}}}const v=16,y=9,z=.7,be=.1,O=.5,ge=92,V="butt",ve="https://github.com/jordaneast1/marle-media/raw/main/SEQ_Marle_draft.mp4";function ye(e,s,l){let r,a,o=0,u=0,f;ae(()=>{S()}),re(()=>{S()});const c=[[0,6],[20,23.4],[34.4,36.4],[52.9,63],[77.2,87.2]],k=["","Is an original idea yours to own? Which influences brought you here","Technology connects us in ways we don\u2019t expect","For better or for worse, thoughts, prompts and imagery shared between us","Amalgamating into consciousness outside of recognition"],N=[[0,0],[.6,-.4],[-.8,-.75],[.8,.4],[0,-.6]],w=["#ff0000","#ff0000","#00969c","#004f11","#ffffff"],d=n=>{for(const i of c){const[A,ee]=i;if(A<=n&&n<ee)return i}},m=(n,i)=>{n.fastSeek?n.fastSeek(i):l(2,f.currentTime=i,f)},S=()=>{const n=d(o);if(o>ge&&(console.log("end"),window.location.href="https://j-fan.github.io/marle/alvin/rest-here-end",f.pause()),!n)return;const[i,A]=n;o>=A-be&&(m(f,i),f.play())};ie(()=>{const n=window.location.hash.replace("#","");if(n.startsWith("c")){const[i]=n.match(/\d+/)||["0"];m(f,c[parseInt(i)][0]),l(1,u=parseInt(i))}else if(n.startsWith("t")){const[i]=n.match(/\d+/)||["0"];m(f,c[parseInt(i)][1]),l(1,u=(parseInt(i)+1)%k.length)}});function E(){l(4,r=B.innerWidth),l(3,a=B.innerHeight)}function h(n){ce[n?"unshift":"push"](()=>{f=n,l(2,f)})}function b(){o=this.currentTime,l(0,o)}const t=(n,i)=>{l(0,o=n),window.location.hash=`c${i}`,l(1,u=i)},_=(n,i)=>{l(0,o=n+O),window.location.hash=`t${i}`,l(1,u=(i+1)%k.length)};return l(4,r=0),l(3,a=0),[o,u,f,a,r,c,k,N,w,E,h,b,t,_]}class we extends te{constructor(s){super(),ne(this,s,ye,me,J,{})}}export{we as default};
