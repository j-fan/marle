import{H as ut,S as dt,i as mt,s as ht,a as L,k as E,q as V,I as gt,h as M,c as W,l as O,m as D,r as G,n as h,J as pt,b as H,F as T,K as tt,L as $,u as bt,A as et,M as vt,o as yt,N as _t,O as Mt,P as Tt}from"../../../chunks/index-5db35788.js";const xt=(t,r)=>{const n=setInterval(t,r);ut(()=>{clearInterval(n)})};var St=typeof global=="object"&&global&&global.Object===Object&&global;const wt=St;var It=typeof self=="object"&&self&&self.Object===Object&&self,kt=wt||It||Function("return this")();const ot=kt;var jt=ot.Symbol;const U=jt;var st=Object.prototype,Et=st.hasOwnProperty,Ot=st.toString,q=U?U.toStringTag:void 0;function Ct(t){var r=Et.call(t,q),n=t[q];try{t[q]=void 0;var s=!0}catch{}var i=Ot.call(t);return s&&(r?t[q]=n:delete t[q]),i}var Rt=Object.prototype,Pt=Rt.toString;function Nt(t){return Pt.call(t)}var At="[object Null]",Lt="[object Undefined]",nt=U?U.toStringTag:void 0;function Wt(t){return t==null?t===void 0?Lt:At:nt&&nt in Object(t)?Ct(t):Nt(t)}function Dt(t){return t!=null&&typeof t=="object"}var Ht="[object Symbol]";function $t(t){return typeof t=="symbol"||Dt(t)&&Wt(t)==Ht}var qt=/\s/;function Bt(t){for(var r=t.length;r--&&qt.test(t.charAt(r)););return r}var Ft=/^\s+/;function Vt(t){return t&&t.slice(0,Bt(t)+1).replace(Ft,"")}function X(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var rt=0/0,Gt=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,Xt=/^0o[0-7]+$/i,zt=parseInt;function at(t){if(typeof t=="number")return t;if($t(t))return rt;if(X(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=X(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=Vt(t);var n=Ut.test(t);return n||Xt.test(t)?zt(t.slice(2),n?2:8):Gt.test(t)?rt:+t}var Jt=function(){return ot.Date.now()};const Y=Jt;var Kt="Expected a function",Yt=Math.max,Qt=Math.min;function Zt(t,r,n){var s,i,p,u,a,l,x=0,b=!1,v=!1,y=!0;if(typeof t!="function")throw new TypeError(Kt);r=at(r)||0,X(n)&&(b=!!n.leading,v="maxWait"in n,p=v?Yt(at(n.maxWait)||0,r):p,y="trailing"in n?!!n.trailing:y);function k(e){var c=s,f=i;return s=i=void 0,x=e,u=t.apply(f,c),u}function C(e){return x=e,a=setTimeout(w,r),b?k(e):u}function S(e){var c=e-l,f=e-x,m=r-c;return v?Qt(m,p-f):m}function j(e){var c=e-l,f=e-x;return l===void 0||c>=r||c<0||v&&f>=p}function w(){var e=Y();if(j(e))return _(e);a=setTimeout(w,S(e))}function _(e){return a=void 0,y&&s?k(e):(s=i=void 0,u)}function o(){a!==void 0&&clearTimeout(a),x=0,s=l=i=a=void 0}function g(){return a===void 0?u:_(Y())}function d(){var e=Y(),c=j(e);if(s=arguments,i=this,l=e,c){if(a===void 0)return C(l);if(v)return clearTimeout(a),a=setTimeout(w,r),k(l)}return a===void 0&&(a=setTimeout(w,r)),u}return d.cancel=o,d.flush=g,d}var te="Expected a function";function ee(t,r,n){var s=!0,i=!0;if(typeof t!="function")throw new TypeError(te);return X(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),Zt(t,r,{leading:s,maxWait:r,trailing:i})}const{window:Q}=_t;function ne(t){let r,n,s,i,p,u,a,l,x,b,v,y,k,C,S,j,w,_,o,g,d;return{c(){r=L(),n=E("canvas"),s=L(),i=E("div"),p=L(),u=E("div"),a=E("div"),l=E("input"),x=L(),b=E("label"),v=V("Mask "),y=V(t[1]),k=V("%"),C=L(),S=E("h2"),j=V("I can feel my mind expanding..."),w=L(),_=E("img"),this.h()},l(e){gt('[data-svelte="svelte-127o3r5"]',document.head).forEach(M),r=W(e),n=O(e,"CANVAS",{id:!0,class:!0}),D(n).forEach(M),s=W(e),i=O(e,"DIV",{class:!0}),D(i).forEach(M),p=W(e),u=O(e,"DIV",{class:!0});var f=D(u);a=O(f,"DIV",{id:!0,class:!0});var m=D(a);l=O(m,"INPUT",{id:!0,type:!0,name:!0,min:!0,max:!0}),x=W(m),b=O(m,"LABEL",{for:!0});var I=D(b);v=G(I,"Mask "),y=G(I,t[1]),k=G(I,"%"),I.forEach(M),m.forEach(M),C=W(f),S=O(f,"H2",{class:!0});var P=D(S);j=G(P,"I can feel my mind expanding..."),P.forEach(M),w=W(f),_=O(f,"IMG",{id:!0,class:!0,alt:!0,src:!0}),f.forEach(M),this.h()},h(){document.title="Corrosion - Callum Howard",h(n,"id","canvas"),h(n,"class","fixed"),h(i,"class","fixed top-0 left-0 w-full h-full vignette svelte-55c46d"),h(l,"id","mask"),h(l,"type","range"),h(l,"name","mask"),h(l,"min",0),h(l,"max",100),h(b,"for","mask"),h(a,"id","debug"),h(a,"class","hidden"),h(S,"class","fixed italic font-serif text-4xl weight font-black mx-32 my-32 select-none expand-text svelte-55c46d"),h(_,"id","silhouette"),h(_,"class","fixed bottom-0 m-auto left-0 right-0 opacity-70 hue-rotate-30 select-none"),h(_,"alt","silhouette"),pt(_.src,o="https://raw.githubusercontent.com/CallumHoward/marle-media/main/silhouette.png")||h(_,"src",o),h(u,"class","absolute w-screen h-full")},m(e,c){H(e,r,c),H(e,n,c),t[6](n),H(e,s,c),H(e,i,c),H(e,p,c),H(e,u,c),T(u,a),T(a,l),tt(l,t[1]),T(a,x),T(a,b),T(b,v),T(b,y),T(b,k),T(u,C),T(u,S),T(S,j),T(u,w),T(u,_),g||(d=[$(Q,"mousemove",t[2]),$(Q,"touchmove",t[2]),$(Q,"resize",t[5]),$(n,"click",t[4]),$(l,"change",t[7]),$(l,"input",t[7])],g=!0)},p(e,[c]){c&2&&tt(l,e[1]),c&2&&bt(y,e[1])},i:et,o:et,d(e){e&&M(r),e&&M(n),t[6](null),e&&M(s),e&&M(i),e&&M(p),e&&M(u),g=!1,vt(d)}}}const it="^|&";function re(t,r,n){let s,i,p,u,a=80,l={x:0,y:0};const x=o=>{o instanceof MouseEvent?(l.x=o.clientX,l.y=o.clientY):(l.x=o.touches[0].clientX,l.y=o.touches[0].clientY),n(1,a-=.05)},b=()=>{if(!s){console.error("Canvas not initialized!");return}i=s.getContext("2d"),v()},v=()=>{p=n(0,s.width=window.innerWidth,s),u=n(0,s.height=window.innerHeight,s)},y=()=>{i.fillStyle="white",i.fillRect(0,0,p,u),i.fillStyle="black";const o=30,g=Math.ceil(p/o),d=Math.ceil(u/o),e=9,c=Math.pow(2,e*2),f=Math.round(Math.random()*c),m=Math.floor(Math.random()*it.length),I=g*a/100/2,P=g-I,R=d*a/100/2,z=d-R,N=g*(100-a)/100/2,J=Math.ceil(l.x/o),Z=Math.ceil(l.y/o),B=5;for(let A=I;A<P;A++){const K=Math.round((Math.random()-.5)*B);for(let F=R+K;F<z-K;F++){const lt=Math.round((Math.random()-.5)*B);if(!S(J,Z,N,A+lt,F+K))continue;const ct=A*o,ft=F*o;k(ct,ft,o,f,m,e)}}},k=(o,g,d,e,c,f)=>{i.save(),i.translate(o+d/2,g+d/2);const m=d/f,I=e.toString(2),P=Math.floor(Math.random()*4)*Math.PI/2;i.rotate(P);for(let R=0;R<f;R++){const z=I[R];for(let N=0;N<f;N++){const J=I[N+f];if(C(z,J,c)){const B=-d/2+R*m,A=-d/2+N*m;i.fillRect(B,A,m,m)}}}i.restore()},C=(o,g,d)=>{const e=it[d];return{"^":(f,m)=>f^m,"&":(f,m)=>f&m,"|":(f,m)=>f|m}[e](o,g)},S=(o,g,d,e,c)=>(o-e)*(o-e)+(g-c)*(g-c)<=d*d;yt(()=>{b(),y(),xt(y,100)});const j=()=>{v(),ee(y,100,{leading:!0})};function w(o){Mt[o?"unshift":"push"](()=>{s=o,n(0,s)})}function _(){a=Tt(this.value),n(1,a)}return[s,a,x,v,y,j,w,_]}class ie extends dt{constructor(r){super(),mt(this,r,re,ne,ht,{})}}export{ie as default};
