import{O as he,S as Q,i as z,s as U,e as T,b as P,g as O,t as k,d as V,f as h,h as d,P as ie,E as ae,k as w,l as I,m as E,n as v,p as F,N as R,F as oe,G as re,H as ce,I as y,o as me,K as J,Q as fe,C as pe,A as g,L as Z,q as M,a as A,r as N,c as H,u as ue,R as ke,D as be,v as q,w as _e,x as K,y as L,T as ge,U as ve}from"./index-2e6c980c.js";import{b as ye}from"./paths-e0f500b8.js";import{_ as we}from"./preload-helper-b21cceae.js";function Ie(s){const e=.36363636363636365,n=8/11,l=9/10,i=4356/361,a=35442/1805,t=16061/1805,o=s*s;return s<e?7.5625*o:s<n?9.075*o-9.9*s+3.4:s<l?i*o-a*s+t:10.8*s*s-20.52*s+10.72}function Ee(s){const e=s-1;return e*e*e+1}function Re(s){return-.5*(Math.cos(Math.PI*s)-1)}function Pe(s,{delay:e=0,duration:n=400,easing:l=he}={}){const i=+getComputedStyle(s).opacity;return{delay:e,duration:n,easing:l,css:a=>`opacity: ${a*i}`}}function Y(s,{delay:e=0,duration:n=400,easing:l=Ee,x:i=0,y:a=0,opacity:t=0}={}){const o=getComputedStyle(s),r=+o.opacity,c=o.transform==="none"?"":o.transform,m=r*(1-t);return{delay:e,duration:n,easing:l,css:(S,C)=>`
			transform: ${c} translate(${(1-S)*i}px, ${(1-S)*a}px);
			opacity: ${r-m*C}`}}function Se(s){let e,n,l,i;const a=s[4].default,t=ae(a,s,s[3],null);return{c(){e=w("button"),t&&t.c(),this.h()},l(o){e=I(o,"BUTTON",{type:!0,style:!0,class:!0});var r=E(e);t&&t.l(r),r.forEach(d),this.h()},h(){v(e,"type","button"),F(e,"width",s[1]),v(e,"class","svelte-1rsnc9j")},m(o,r){P(o,e,r),t&&t.m(e,null),n=!0,l||(i=R(e,"click",s[5]),l=!0)},p(o,r){t&&t.p&&(!n||r&8)&&oe(t,a,o,o[3],n?ce(a,o[3],r,null):re(o[3]),null)},i(o){n||(h(t,o),n=!0)},o(o){k(t,o),n=!1},d(o){o&&d(e),t&&t.d(o),l=!1,i()}}}function Ce(s){let e,n,l;const i=s[4].default,a=ae(i,s,s[3],null);return{c(){e=w("a"),n=w("button"),a&&a.c(),this.h()},l(t){e=I(t,"A",{href:!0,style:!0,class:!0});var o=E(e);n=I(o,"BUTTON",{type:!0,style:!0,class:!0});var r=E(n);a&&a.l(r),r.forEach(d),o.forEach(d),this.h()},h(){v(n,"type","button"),F(n,"width",s[1]),v(n,"class","svelte-1rsnc9j"),v(e,"href",s[0]),F(e,"width",s[1]),v(e,"class","svelte-1rsnc9j")},m(t,o){P(t,e,o),y(e,n),a&&a.m(n,null),l=!0},p(t,o){a&&a.p&&(!l||o&8)&&oe(a,i,t,t[3],l?ce(i,t[3],o,null):re(t[3]),null),(!l||o&1)&&v(e,"href",t[0])},i(t){l||(h(a,t),l=!0)},o(t){k(a,t),l=!1},d(t){t&&d(e),a&&a.d(t)}}}function De(s){let e,n,l,i;const a=[Ce,Se],t=[];function o(r,c){return r[0]?0:1}return e=o(s),n=t[e]=a[e](s),{c(){n.c(),l=T()},l(r){n.l(r),l=T()},m(r,c){t[e].m(r,c),P(r,l,c),i=!0},p(r,[c]){let m=e;e=o(r),e===m?t[e].p(r,c):(O(),k(t[m],1,1,()=>{t[m]=null}),V(),n=t[e],n?n.p(r,c):(n=t[e]=a[e](r),n.c()),h(n,1),n.m(l.parentNode,l))},i(r){i||(h(n),i=!0)},o(r){k(n),i=!1},d(r){t[e].d(r),r&&d(l)}}}function Te(s,e,n){let{$$slots:l={},$$scope:i}=e,{isFullWidth:a=!1}=e,{href:t=void 0}=e;const o=a?"100%":"auto";function r(c){ie.call(this,s,c)}return s.$$set=c=>{"isFullWidth"in c&&n(2,a=c.isFullWidth),"href"in c&&n(0,t=c.href),"$$scope"in c&&n(3,i=c.$$scope)},[t,o,a,i,l,r]}class We extends Q{constructor(e){super(),z(this,e,Te,De,U,{isFullWidth:2,href:0})}}const $=(s,e)=>{const n=s[e];return n===void 0?(console.error(`Dialog key ${String(e)} is unknown in dialogData`),{text:`Something went wrong with the dialog logic: "${String(e)}" key is unknown`,options:[]}):n};function x(s,e,n){const l=s.slice();return l[6]=e[n],l}function ee(s){let e,n,l,i,a,t=s[1]&&te(s);return{c(){e=w("div"),t&&t.c(),this.h()},l(o){e=I(o,"DIV",{class:!0,style:!0});var r=E(e);t&&t.l(r),r.forEach(d),this.h()},h(){v(e,"class","marle-icon svelte-1k1r9r8"),F(e,"background-image","url('"+ye+"/img/marle_green.jpg')")},m(o,r){P(o,e,r),t&&t.m(e,null),l=!0,i||(a=[R(e,"click",s[3]),R(e,"introend",s[3])],i=!0)},p(o,r){s=o,s[1]?t?(t.p(s,r),r&2&&h(t,1)):(t=te(s),t.c(),h(t,1),t.m(e,null)):t&&(O(),k(t,1,1,()=>{t=null}),V())},i(o){l||(h(t),n||J(()=>{n=fe(e,Y,{y:40,duration:1e3,easing:Ie}),n.start()}),l=!0)},o(o){k(t),l=!1},d(o){o&&d(e),t&&t.d(),i=!1,pe(a)}}}function te(s){let e,n=s[2],l,i,a=se(s);return{c(){e=w("div"),a.c(),this.h()},l(t){e=I(t,"DIV",{class:!0});var o=E(e);a.l(o),o.forEach(d),this.h()},h(){v(e,"class","chat-wrapper svelte-1k1r9r8")},m(t,o){P(t,e,o),a.m(e,null),i=!0},p(t,o){o&4&&U(n,n=t[2])?(O(),k(a,1,1,g),V(),a=se(t),a.c(),h(a,1),a.m(e,null)):a.p(t,o)},i(t){i||(h(a),J(()=>{l||(l=Z(e,Y,{y:20,duration:300,delay:500},!0)),l.run(1)}),i=!0)},o(t){k(a),l||(l=Z(e,Y,{y:20,duration:300,delay:500},!1)),l.run(0),i=!1},d(t){t&&d(e),a.d(t),t&&l&&l.end()}}}function le(s){let e,n;return{c(){e=w("h4"),n=M("YOU"),this.h()},l(l){e=I(l,"H4",{class:!0});var i=E(e);n=N(i,"YOU"),i.forEach(d),this.h()},h(){v(e,"class","svelte-1k1r9r8")},m(l,i){P(l,e,i),y(e,n)},d(l){l&&d(e)}}}function Oe(s){let e=s[6].text+"",n;return{c(){n=M(e)},l(l){n=N(l,e)},m(l,i){P(l,n,i)},p(l,i){i&4&&e!==(e=l[6].text+"")&&ue(n,e)},d(l){l&&d(n)}}}function ne(s){let e,n;return e=new We({props:{isFullWidth:!0,$$slots:{default:[Oe]},$$scope:{ctx:s}}}),e.$on("click",function(){be(s[4](s[6]))&&s[4](s[6]).apply(this,arguments)}),{c(){q(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){K(e,l,i),n=!0},p(l,i){s=l;const a={};i&516&&(a.$$scope={dirty:i,ctx:s}),e.$set(a)},i(l){n||(h(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){L(e,l)}}}function se(s){let e,n,l,i,a,t,o=s[2].text+"",r,c,m,S,C,D,b=s[2].options.length>0&&le(),W=s[2].options,_=[];for(let f=0;f<W.length;f+=1)_[f]=ne(x(s,W,f));const de=f=>k(_[f],1,1,()=>{_[f]=null});return{c(){e=w("div"),n=w("div"),l=w("h4"),i=M("Marle"),a=A(),t=w("p"),r=M(o),c=A(),m=w("div"),b&&b.c(),S=A();for(let f=0;f<_.length;f+=1)_[f].c();this.h()},l(f){e=I(f,"DIV",{class:!0});var p=E(e);n=I(p,"DIV",{class:!0});var u=E(n);l=I(u,"H4",{class:!0});var B=E(l);i=N(B,"Marle"),B.forEach(d),a=H(u),t=I(u,"P",{});var X=E(t);r=N(X,o),X.forEach(d),u.forEach(d),c=H(p),m=I(p,"DIV",{class:!0});var G=E(m);b&&b.l(G),S=H(G);for(let j=0;j<_.length;j+=1)_[j].l(G);G.forEach(d),p.forEach(d),this.h()},h(){v(l,"class","svelte-1k1r9r8"),v(n,"class","dialog-item left svelte-1k1r9r8"),v(m,"class","dialog-item right svelte-1k1r9r8"),v(e,"class","chat-content svelte-1k1r9r8")},m(f,p){P(f,e,p),y(e,n),y(n,l),y(l,i),y(n,a),y(n,t),y(t,r),y(e,c),y(e,m),b&&b.m(m,null),y(m,S);for(let u=0;u<_.length;u+=1)_[u].m(m,null);D=!0},p(f,p){if((!D||p&4)&&o!==(o=f[2].text+"")&&ue(r,o),f[2].options.length>0?b||(b=le(),b.c(),b.m(m,S)):b&&(b.d(1),b=null),p&20){W=f[2].options;let u;for(u=0;u<W.length;u+=1){const B=x(f,W,u);_[u]?(_[u].p(B,p),h(_[u],1)):(_[u]=ne(B),_[u].c(),h(_[u],1),_[u].m(m,null))}for(O(),u=W.length;u<_.length;u+=1)de(u);V()}},i(f){if(!D){for(let p=0;p<W.length;p+=1)h(_[p]);C||J(()=>{C=fe(e,Pe,{duration:400}),C.start()}),D=!0}},o(f){_=_.filter(Boolean);for(let p=0;p<_.length;p+=1)k(_[p]);D=!1},d(f){f&&d(e),b&&b.d(),ke(_,f)}}}function Ve(s){let e,n,l=s[0]&&ee(s);return{c(){l&&l.c(),e=T()},l(i){l&&l.l(i),e=T()},m(i,a){l&&l.m(i,a),P(i,e,a),n=!0},p(i,[a]){i[0]?l?(l.p(i,a),a&1&&h(l,1)):(l=ee(i),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(O(),k(l,1,1,()=>{l=null}),V())},i(i){n||(h(l),n=!0)},o(i){k(l),n=!1},d(i){l&&l.d(i),i&&d(e)}}}function Be(s,e,n){let{dialogData:l}=e,i=!1,a=!1,t=l.start;me(()=>{n(0,i=!0)});const o=()=>{n(1,a=!a)},r=c=>async m=>{var C,D;m.stopPropagation(),n(2,t=$(l,c.nextKey));const S=await((C=t.onMount)==null?void 0:C.call(t));S&&n(2,t=$(l,S)),(D=c.onClick)==null||D.call(c)};return s.$$set=c=>{"dialogData"in c&&n(5,l=c.dialogData)},[i,a,t,o,r,l]}class qe extends Q{constructor(e){super(),z(this,e,Be,Ve,U,{dialogData:5})}}function Ge(s){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function Fe(s){let e,n,l;var i=s[6].default;function a(t){return{props:{imageSrc:t[0],displacePower:t[1],canvasId:t[2],isGrayscale:t[3],fitToWindow:t[4]}}}return i&&(e=new i(a(s)),e.$on("click",s[5])),{c(){e&&q(e.$$.fragment),n=T()},l(t){e&&_e(e.$$.fragment,t),n=T()},m(t,o){e&&K(e,t,o),P(t,n,o),l=!0},p(t,o){const r={};if(o&1&&(r.imageSrc=t[0]),o&2&&(r.displacePower=t[1]),o&4&&(r.canvasId=t[2]),o&8&&(r.isGrayscale=t[3]),o&16&&(r.fitToWindow=t[4]),i!==(i=t[6].default)){if(e){O();const c=e;k(c.$$.fragment,1,0,()=>{L(c,1)}),V()}i?(e=new i(a(t)),e.$on("click",t[5]),q(e.$$.fragment),h(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}else i&&e.$set(r)},i(t){l||(e&&h(e.$$.fragment,t),l=!0)},o(t){e&&k(e.$$.fragment,t),l=!1},d(t){t&&d(n),e&&L(e,t)}}}function Me(s){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function Ne(s){let e,n,l={ctx:s,current:null,token:null,hasCatch:!1,pending:Me,then:Fe,catch:Ge,value:6,blocks:[,,,]};return ge(we(()=>import("./PixiWater-99d4640c.js"),["./PixiWater-99d4640c.js","./index-2e6c980c.js","./pixi-7ebbcd1d.js","./paths-e0f500b8.js","./index-38cd9857.js","../assets/PixiWater-0f3a4b40.css"],import.meta.url),l),{c(){e=T(),l.block.c()},l(i){e=T(),l.block.l(i)},m(i,a){P(i,e,a),l.block.m(i,l.anchor=a),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(i,[a]){s=i,ve(l,s,a)},i(i){n||(h(l.block),n=!0)},o(i){for(let a=0;a<3;a+=1){const t=l.blocks[a];k(t)}n=!1},d(i){i&&d(e),l.block.d(i),l.token=null,l=null}}}function Ue(s,e,n){let{imageSrc:l}=e,{displacePower:i=20}=e,{canvasId:a}=e,{isGrayscale:t=!1}=e,{fitToWindow:o=!1}=e;function r(c){ie.call(this,s,c)}return s.$$set=c=>{"imageSrc"in c&&n(0,l=c.imageSrc),"displacePower"in c&&n(1,i=c.displacePower),"canvasId"in c&&n(2,a=c.canvasId),"isGrayscale"in c&&n(3,t=c.isGrayscale),"fitToWindow"in c&&n(4,o=c.fitToWindow)},[l,i,a,t,o,r]}class Ke extends Q{constructor(e){super(),z(this,e,Ue,Ne,U,{imageSrc:0,displacePower:1,canvasId:2,isGrayscale:3,fitToWindow:4})}}export{qe as C,Ke as P,Pe as f,Re as s};
