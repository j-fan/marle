import{S as j,i as D,s as J,k as y,q as C,a as V,l as E,m as O,r as I,h,c as q,n as m,I as L,b as v,F as g,J as R,u as z,A as H,H as G,o as Q,K as X,L as Y,M as Z}from"../../../chunks/index-cd6ed3a9.js";function K(n,o,a){const l=n.slice();return l[9]=o[a][0],l[10]=o[a][1],l[12]=a,l}function P(n){let o,a,l,s,p,_,T,k;function b(){return n[3](n[9],n[12])}function i(){return n[4](n[10],n[12])}return{c(){o=y("button"),a=C(n[12]),l=V(),s=y("button"),p=C("T"),_=C(n[12]),this.h()},l(c){o=E(c,"BUTTON",{id:!0,class:!0});var t=O(o);a=I(t,n[12]),t.forEach(h),l=q(c),s=E(c,"BUTTON",{id:!0,class:!0});var u=O(s);p=I(u,"T"),_=I(u,n[12]),u.forEach(h),this.h()},h(){m(o,"id","c"+n[12]),m(o,"class",W),m(s,"id","t"+n[12]),m(s,"class",W)},m(c,t){v(c,o,t),g(o,a),v(c,l,t),v(c,s,t),g(s,p),g(s,_),T||(k=[R(o,"click",b),R(s,"click",i)],T=!0)},p(c,t){n=c},d(c){c&&h(o),c&&h(l),c&&h(s),T=!1,X(k)}}}function x(n){let o,a,l,s,p,_,T,k,b,i,c,t,u,w=!1,U,A,B,N=n[2],f=[];for(let e=0;e<N.length;e+=1)f[e]=P(K(n,N,e));function F(){cancelAnimationFrame(U),i.paused||(U=Z(F),w=!0),n[6].call(i)}return{c(){o=y("h1"),a=C("Video Test"),l=V(),s=y("p"),p=C("Current timestamp: "),_=C(n[0]),T=C("s"),k=V();for(let e=0;e<f.length;e+=1)f[e].c();b=V(),i=y("video"),c=y("track"),t=y("source"),this.h()},l(e){o=E(e,"H1",{});var d=O(o);a=I(d,"Video Test"),d.forEach(h),l=q(e),s=E(e,"P",{class:!0});var r=O(s);p=I(r,"Current timestamp: "),_=I(r,n[0]),T=I(r,"s"),r.forEach(h),k=q(e);for(let M=0;M<f.length;M+=1)f[M].l(e);b=q(e),i=E(e,"VIDEO",{id:!0,class:!0,width:!0});var S=O(i);c=E(S,"TRACK",{kind:!0}),t=E(S,"SOURCE",{src:!0,type:!0}),S.forEach(h),this.h()},h(){m(s,"class","text-3xl font-bold underline"),m(c,"kind","captions"),L(t.src,u=ee)||m(t,"src",u),m(t,"type","video/mp4"),m(i,"id","vid"),m(i,"class","video-js"),i.autoplay=!0,i.loop=!0,m(i,"width","1280")},m(e,d){v(e,o,d),g(o,a),v(e,l,d),v(e,s,d),g(s,p),g(s,_),g(s,T),v(e,k,d);for(let r=0;r<f.length;r+=1)f[r].m(e,d);v(e,b,d),v(e,i,d),g(i,c),g(i,t),n[5](i),A||(B=R(i,"timeupdate",F),A=!0)},p(e,[d]){if(d&1&&z(_,e[0]),d&5){N=e[2];let r;for(r=0;r<N.length;r+=1){const S=K(e,N,r);f[r]?f[r].p(S,d):(f[r]=P(S),f[r].c(),f[r].m(b.parentNode,b))}for(;r<f.length;r+=1)f[r].d(1);f.length=N.length}!w&&d&1&&!isNaN(e[0])&&(i.currentTime=e[0]),w=!1},i:H,o:H,d(e){e&&h(o),e&&h(l),e&&h(s),e&&h(k),G(f,e),e&&h(b),e&&h(i),n[5](null),A=!1,B()}}}const $=.1,W="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",ee="https://firebasestorage.googleapis.com/v0/b/marle-5d8ad.appspot.com/o/Marle_VideoTest.mp4?alt=media&token=fbf1ef92-57c9-4d8d-b9fa-5831c4b010c5";function te(n,o,a){let l=0,s;const p=[[0,1.3],[5.2,6.4],[10.4,11.6],[15.6,16.8],[20.8,22]],_=t=>{for(const u of p){const[w,U]=u;if(w<=t&&t<U)return u}},T=()=>{const t=_(l);if(!t)return;const[u,w]=t;l>=w-$&&(a(1,s.currentTime=u,s),s.play())};Q(()=>{const t=window.location.hash.replace("#","");if(t.startsWith("c")){const[u]=t.match(/\d+/)||["0"];a(1,s.currentTime=p[parseInt(u)][0],s)}else if(t.startsWith("t")){const[u]=t.match(/\d+/)||["0"];a(1,s.currentTime=p[parseInt(u)][1],s)}});const k=(t,u)=>{a(0,l=t),window.location.hash=`c${u}`},b=(t,u)=>{a(0,l=t),window.location.hash=`t${u}`};function i(t){Y[t?"unshift":"push"](()=>{s=t,a(1,s)})}function c(){l=this.currentTime,a(0,l)}return n.$$.update=()=>{n.$$.dirty&1&&(a(0,l),T())},[l,s,p,k,b,i,c]}class ne extends j{constructor(o){super(),D(this,o,te,x,J,{})}}export{ne as default};
