import{O as he,S as Q,i as $,s as U,e as O,b as P,g as B,t as k,d as G,f as h,h as d,P as ie,E as ae,k as w,l as I,m as E,n as v,p as N,N as R,F as re,G as oe,H as ce,I as y,o as me,K as z,Q as ue,C as pe,A as g,L as X,q as T,a as A,r as W,c as H,u as fe,R as ke,D as be,v as q,w as _e,x as K,y as L,T as ge,U as ve}from"./index-1931343d.js";import{b as ye}from"./paths-e0f500b8.js";import{_ as we}from"./preload-helper-b21cceae.js";function Ie(s){const e=.36363636363636365,n=8/11,t=9/10,i=4356/361,a=35442/1805,l=16061/1805,r=s*s;return s<e?7.5625*r:s<n?9.075*r-9.9*s+3.4:s<t?i*r-a*s+l:10.8*s*s-20.52*s+10.72}function Ee(s){const e=s-1;return e*e*e+1}function Re(s){return-.5*(Math.cos(Math.PI*s)-1)}function Pe(s,{delay:e=0,duration:n=400,easing:t=he}={}){const i=+getComputedStyle(s).opacity;return{delay:e,duration:n,easing:t,css:a=>`opacity: ${a*i}`}}function Y(s,{delay:e=0,duration:n=400,easing:t=Ee,x:i=0,y:a=0,opacity:l=0}={}){const r=getComputedStyle(s),o=+r.opacity,c=r.transform==="none"?"":r.transform,m=o*(1-l);return{delay:e,duration:n,easing:t,css:(S,C)=>`
			transform: ${c} translate(${(1-S)*i}px, ${(1-S)*a}px);
			opacity: ${o-m*C}`}}function Se(s){let e,n,t,i;const a=s[4].default,l=ae(a,s,s[3],null);return{c(){e=w("button"),l&&l.c(),this.h()},l(r){e=I(r,"BUTTON",{type:!0,style:!0,class:!0});var o=E(e);l&&l.l(o),o.forEach(d),this.h()},h(){v(e,"type","button"),N(e,"width",s[1]),v(e,"class","svelte-1rsnc9j")},m(r,o){P(r,e,o),l&&l.m(e,null),n=!0,t||(i=R(e,"click",s[5]),t=!0)},p(r,o){l&&l.p&&(!n||o&8)&&re(l,a,r,r[3],n?ce(a,r[3],o,null):oe(r[3]),null)},i(r){n||(h(l,r),n=!0)},o(r){k(l,r),n=!1},d(r){r&&d(e),l&&l.d(r),t=!1,i()}}}function Ce(s){let e,n,t;const i=s[4].default,a=ae(i,s,s[3],null);return{c(){e=w("a"),n=w("button"),a&&a.c(),this.h()},l(l){e=I(l,"A",{href:!0,style:!0,class:!0});var r=E(e);n=I(r,"BUTTON",{type:!0,style:!0,class:!0});var o=E(n);a&&a.l(o),o.forEach(d),r.forEach(d),this.h()},h(){v(n,"type","button"),N(n,"width",s[1]),v(n,"class","svelte-1rsnc9j"),v(e,"href",s[0]),N(e,"width",s[1]),v(e,"class","svelte-1rsnc9j")},m(l,r){P(l,e,r),y(e,n),a&&a.m(n,null),t=!0},p(l,r){a&&a.p&&(!t||r&8)&&re(a,i,l,l[3],t?ce(i,l[3],r,null):oe(l[3]),null),(!t||r&1)&&v(e,"href",l[0])},i(l){t||(h(a,l),t=!0)},o(l){k(a,l),t=!1},d(l){l&&d(e),a&&a.d(l)}}}function De(s){let e,n,t,i;const a=[Ce,Se],l=[];function r(o,c){return o[0]?0:1}return e=r(s),n=l[e]=a[e](s),{c(){n.c(),t=O()},l(o){n.l(o),t=O()},m(o,c){l[e].m(o,c),P(o,t,c),i=!0},p(o,[c]){let m=e;e=r(o),e===m?l[e].p(o,c):(B(),k(l[m],1,1,()=>{l[m]=null}),G(),n=l[e],n?n.p(o,c):(n=l[e]=a[e](o),n.c()),h(n,1),n.m(t.parentNode,t))},i(o){i||(h(n),i=!0)},o(o){k(n),i=!1},d(o){l[e].d(o),o&&d(t)}}}function Oe(s,e,n){let{$$slots:t={},$$scope:i}=e,{isFullWidth:a=!1}=e,{href:l=void 0}=e;const r=a?"100%":"auto";function o(c){ie.call(this,s,c)}return s.$$set=c=>{"isFullWidth"in c&&n(2,a=c.isFullWidth),"href"in c&&n(0,l=c.href),"$$scope"in c&&n(3,i=c.$$scope)},[l,r,a,i,t,o]}class Ve extends Q{constructor(e){super(),$(this,e,Oe,De,U,{isFullWidth:2,href:0})}}const Z=(s,e)=>{const n=s[e];return n===void 0?(console.error(`Dialog key ${String(e)} is unknown in dialogData`),{text:`Something went wrong with the dialog logic: "${String(e)}" key is unknown`,options:[]}):n};function x(s,e,n){const t=s.slice();return t[6]=e[n],t}function ee(s){let e,n,t,i,a,l=s[1]&&te(s);return{c(){e=w("div"),l&&l.c(),this.h()},l(r){e=I(r,"DIV",{class:!0,style:!0});var o=E(e);l&&l.l(o),o.forEach(d),this.h()},h(){v(e,"class","marle-icon svelte-1k1r9r8"),N(e,"background-image","url('"+ye+"/img/marle_green.jpg')")},m(r,o){P(r,e,o),l&&l.m(e,null),t=!0,i||(a=[R(e,"click",s[3]),R(e,"introend",s[3])],i=!0)},p(r,o){s=r,s[1]?l?(l.p(s,o),o&2&&h(l,1)):(l=te(s),l.c(),h(l,1),l.m(e,null)):l&&(B(),k(l,1,1,()=>{l=null}),G())},i(r){t||(h(l),n||z(()=>{n=ue(e,Y,{y:40,duration:1e3,easing:Ie}),n.start()}),t=!0)},o(r){k(l),t=!1},d(r){r&&d(e),l&&l.d(),i=!1,pe(a)}}}function te(s){let e,n=s[2],t,i,a=se(s);return{c(){e=w("div"),a.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=E(e);a.l(r),r.forEach(d),this.h()},h(){v(e,"class","chat-wrapper svelte-1k1r9r8")},m(l,r){P(l,e,r),a.m(e,null),i=!0},p(l,r){r&4&&U(n,n=l[2])?(B(),k(a,1,1,g),G(),a=se(l),a.c(),h(a,1),a.m(e,null)):a.p(l,r)},i(l){i||(h(a),z(()=>{t||(t=X(e,Y,{y:20,duration:300,delay:500},!0)),t.run(1)}),i=!0)},o(l){k(a),t||(t=X(e,Y,{y:20,duration:300,delay:500},!1)),t.run(0),i=!1},d(l){l&&d(e),a.d(l),l&&t&&t.end()}}}function le(s){let e,n;return{c(){e=w("h4"),n=T("YOU"),this.h()},l(t){e=I(t,"H4",{class:!0});var i=E(e);n=W(i,"YOU"),i.forEach(d),this.h()},h(){v(e,"class","svelte-1k1r9r8")},m(t,i){P(t,e,i),y(e,n)},d(t){t&&d(e)}}}function Be(s){let e=s[6].text+"",n;return{c(){n=T(e)},l(t){n=W(t,e)},m(t,i){P(t,n,i)},p(t,i){i&4&&e!==(e=t[6].text+"")&&fe(n,e)},d(t){t&&d(n)}}}function ne(s){let e,n;return e=new Ve({props:{isFullWidth:!0,$$slots:{default:[Be]},$$scope:{ctx:s}}}),e.$on("click",function(){be(s[4](s[6]))&&s[4](s[6]).apply(this,arguments)}),{c(){q(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,i){K(e,t,i),n=!0},p(t,i){s=t;const a={};i&516&&(a.$$scope={dirty:i,ctx:s}),e.$set(a)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function se(s){let e,n,t,i,a,l,r=s[2].text+"",o,c,m,S,C,D,b=s[2].options.length>0&&le(),V=s[2].options,_=[];for(let u=0;u<V.length;u+=1)_[u]=ne(x(s,V,u));const de=u=>k(_[u],1,1,()=>{_[u]=null});return{c(){e=w("div"),n=w("div"),t=w("h4"),i=T("Marle"),a=A(),l=w("p"),o=T(r),c=A(),m=w("div"),b&&b.c(),S=A();for(let u=0;u<_.length;u+=1)_[u].c();this.h()},l(u){e=I(u,"DIV",{class:!0});var p=E(e);n=I(p,"DIV",{class:!0});var f=E(n);t=I(f,"H4",{class:!0});var F=E(t);i=W(F,"Marle"),F.forEach(d),a=H(f),l=I(f,"P",{});var J=E(l);o=W(J,r),J.forEach(d),f.forEach(d),c=H(p),m=I(p,"DIV",{class:!0});var M=E(m);b&&b.l(M),S=H(M);for(let j=0;j<_.length;j+=1)_[j].l(M);M.forEach(d),p.forEach(d),this.h()},h(){v(t,"class","svelte-1k1r9r8"),v(n,"class","dialog-item left svelte-1k1r9r8"),v(m,"class","dialog-item right svelte-1k1r9r8"),v(e,"class","chat-content svelte-1k1r9r8")},m(u,p){P(u,e,p),y(e,n),y(n,t),y(t,i),y(n,a),y(n,l),y(l,o),y(e,c),y(e,m),b&&b.m(m,null),y(m,S);for(let f=0;f<_.length;f+=1)_[f].m(m,null);D=!0},p(u,p){if((!D||p&4)&&r!==(r=u[2].text+"")&&fe(o,r),u[2].options.length>0?b||(b=le(),b.c(),b.m(m,S)):b&&(b.d(1),b=null),p&20){V=u[2].options;let f;for(f=0;f<V.length;f+=1){const F=x(u,V,f);_[f]?(_[f].p(F,p),h(_[f],1)):(_[f]=ne(F),_[f].c(),h(_[f],1),_[f].m(m,null))}for(B(),f=V.length;f<_.length;f+=1)de(f);G()}},i(u){if(!D){for(let p=0;p<V.length;p+=1)h(_[p]);C||z(()=>{C=ue(e,Pe,{duration:400}),C.start()}),D=!0}},o(u){_=_.filter(Boolean);for(let p=0;p<_.length;p+=1)k(_[p]);D=!1},d(u){u&&d(e),b&&b.d(),ke(_,u)}}}function Ge(s){let e,n,t=s[0]&&ee(s);return{c(){t&&t.c(),e=O()},l(i){t&&t.l(i),e=O()},m(i,a){t&&t.m(i,a),P(i,e,a),n=!0},p(i,[a]){i[0]?t?(t.p(i,a),a&1&&h(t,1)):(t=ee(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(B(),k(t,1,1,()=>{t=null}),G())},i(i){n||(h(t),n=!0)},o(i){k(t),n=!1},d(i){t&&t.d(i),i&&d(e)}}}function Fe(s,e,n){let{dialogData:t}=e,i=!1,a=!1,l=t.start;me(()=>{n(0,i=!0)});const r=()=>{n(1,a=!a)},o=c=>async m=>{var C,D;m.stopPropagation(),n(2,l=Z(t,c.nextKey));const S=await((C=l.onMount)==null?void 0:C.call(l));S&&n(2,l=Z(t,S)),(D=c.onClick)==null||D.call(c)};return s.$$set=c=>{"dialogData"in c&&n(5,t=c.dialogData)},[i,a,l,r,o,t]}class qe extends Q{constructor(e){super(),$(this,e,Fe,Ge,U,{dialogData:5})}}function Me(s){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function Ne(s){let e,n,t;var i=s[5].default;function a(l){return{props:{imageSrc:l[0],displacePower:l[1],canvasId:l[2],isGrayscale:l[3]}}}return i&&(e=new i(a(s)),e.$on("click",s[4])),{c(){e&&q(e.$$.fragment),n=O()},l(l){e&&_e(e.$$.fragment,l),n=O()},m(l,r){e&&K(e,l,r),P(l,n,r),t=!0},p(l,r){const o={};if(r&1&&(o.imageSrc=l[0]),r&2&&(o.displacePower=l[1]),r&4&&(o.canvasId=l[2]),r&8&&(o.isGrayscale=l[3]),i!==(i=l[5].default)){if(e){B();const c=e;k(c.$$.fragment,1,0,()=>{L(c,1)}),G()}i?(e=new i(a(l)),e.$on("click",l[4]),q(e.$$.fragment),h(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}else i&&e.$set(o)},i(l){t||(e&&h(e.$$.fragment,l),t=!0)},o(l){e&&k(e.$$.fragment,l),t=!1},d(l){l&&d(n),e&&L(e,l)}}}function Te(s){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function We(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:Te,then:Ne,catch:Me,value:5,blocks:[,,,]};return ge(we(()=>import("./PixiWater-f6810c2e.js"),["./PixiWater-f6810c2e.js","./index-1931343d.js","./pixi-7ebbcd1d.js","./paths-e0f500b8.js","./index-ded1aa97.js","./store-7a583922.js","../assets/PixiWater-0f3a4b40.css"],import.meta.url),t),{c(){e=O(),t.block.c()},l(i){e=O(),t.block.l(i)},m(i,a){P(i,e,a),t.block.m(i,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,[a]){s=i,ve(t,s,a)},i(i){n||(h(t.block),n=!0)},o(i){for(let a=0;a<3;a+=1){const l=t.blocks[a];k(l)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function Ue(s,e,n){let{imageSrc:t}=e,{displacePower:i=20}=e,{canvasId:a}=e,{isGrayscale:l=!1}=e;function r(o){ie.call(this,s,o)}return s.$$set=o=>{"imageSrc"in o&&n(0,t=o.imageSrc),"displacePower"in o&&n(1,i=o.displacePower),"canvasId"in o&&n(2,a=o.canvasId),"isGrayscale"in o&&n(3,l=o.isGrayscale)},[t,i,a,l,r]}class Ke extends Q{constructor(e){super(),$(this,e,Ue,We,U,{imageSrc:0,displacePower:1,canvasId:2,isGrayscale:3})}}export{qe as C,Ke as P,Pe as f,Re as s};
