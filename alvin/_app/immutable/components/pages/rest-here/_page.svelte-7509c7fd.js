import{S as me,i as ve,s as _e,o as ge,k as g,a as $,v as ye,q as se,H as be,l as E,h,c as W,m as b,w as Re,r as ne,n as o,I as ie,p as ae,F as p,b as Q,x as ke,u as ce,f as Se,t as we,y as Ae,A as de,J as Ee}from"../../../chunks/index-03aa718b.js";import{b as z}from"../../../chunks/paths-47524592.js";function De(u){return ge(()=>{var n=n||{};n.Widget=function(l){function a(_){if(c[_])return c[_].exports;var i=c[_]={exports:{},id:_,loaded:!1};return l[_].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}var c={};return a.m=l,a.c=c,a.p="",a(0)}([function(l,a,c){function _(e){return!!(e===""||e&&e.charCodeAt&&e.substr)}function i(e){return!!(e&&e.constructor&&e.call&&e.apply)}function m(e){return!(!e||e.nodeType!==1||e.nodeName.toUpperCase()!=="IFRAME")}function L(e){var t,r=!1;for(t in M)if(M.hasOwnProperty(t)&&M[t]===e){r=!0;break}return r}function f(e){var t,r,s;for(t=0,r=S.length;t<r&&(s=e(S[t]),s!==!1);t++);}function R(e){var t,r,s,d="";for(e.substr(0,2)==="//"&&(e=window.location.protocol+e),s=e.split("/"),t=0,r=s.length;t<r&&t<3;t++)d+=s[t],t<2&&(d+="/");return d}function T(e){return e.contentWindow?e.contentWindow:e.contentDocument&&"parentWindow"in e.contentDocument?e.contentDocument.parentWindow:null}function D(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r}function N(e,t,r){r.callbacks[e]=r.callbacks[e]||[],r.callbacks[e].push(t)}function q(e,t){var r,s=!0;return t.callbacks[e]=[],f(function(d){if(r=d.callbacks[e]||[],r.length)return s=!1,!1}),s}function k(e,t,r){var s,d,v=T(r);return!!v.postMessage&&(s=r.getAttribute("src").split("?")[0],d=JSON.stringify({method:e,value:t}),s.substr(0,2)==="//"&&(s=window.location.protocol+s),s=s.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void v.postMessage(d,s))}function P(e){var t;return f(function(r){if(r.instance===e)return t=r,!1}),t}function j(e){var t;return f(function(r){if(T(r.element)===e)return t=r,!1}),t}function x(e,t){return function(r){var s=i(r),d=P(this),v=!s&&t?r:null,O=s&&!t?r:null;return O&&N(e,O,d),k(e,v,d.element),this}}function w(e,t,r){var s,d,v;for(s=0,d=t.length;s<d;s++)v=t[s],e[v]=x(v,r)}function ee(e,t,r){return e+"?url="+t+"&"+te(r)}function te(e){var t,r,s=[];for(t in e)e.hasOwnProperty(t)&&(r=e[t],s.push(t+"="+(t==="start_track"?parseInt(r,10):r?"true":"false")));return s.join("&")}function I(e,t,r){var s,d,v=e.callbacks[t]||[];for(s=0,d=v.length;s<d;s++)v[s].apply(e.instance,r);(L(t)||t===y.READY)&&(e.callbacks[t]=[])}function V(e){var t,r,s,d,v;try{r=JSON.parse(e.data)}catch{return!1}return t=j(e.source),s=r.method,d=r.value,(!t||F(e.origin)===F(t.domain))&&(t?(s===y.READY&&(t.isReady=!0,I(t,X),q(X,t)),s!==y.PLAY||t.playEventFired||(t.playEventFired=!0),s!==y.PLAY_PROGRESS||t.playEventFired||(t.playEventFired=!0,I(t,y.PLAY,[d])),v=[],d!==void 0&&v.push(d),void I(t,s,v)):(s===y.READY&&B.push(e.source),!1))}function F(e){return e.replace(A,"")}var Y,U,G,K=c(1),M=c(2),C=c(3),y=K.api,J=K.bridge,B=[],S=[],X="__LATE_BINDING__",Z="http://wt.soundcloud.test:9200/",A=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",V,!1):window.attachEvent("onmessage",V),l.exports=G=function(e,t,r){if(_(e)&&(e=document.getElementById(e)),!m(e))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");t&&(r=r||{},e.src=ee(Z,t,r));var s,d,v=j(T(e));return v&&v.instance?v.instance:(s=B.indexOf(T(e))>-1,d=new Y(e),S.push(new U(d,e,s)),d)},G.Events=y,window.SC=window.SC||{},window.SC.Widget=G,U=function(e,t,r){this.instance=e,this.element=t,this.domain=R(t.getAttribute("src")),this.isReady=!!r,this.callbacks={}},Y=function(){},Y.prototype={constructor:Y,load(e,t){if(e){t=t||{};var r=this,s=P(this),d=s.element,v=d.src,O=v.substr(0,v.indexOf("?"));s.isReady=!1,s.playEventFired=!1,d.onload=function(){r.bind(y.READY,function(){var H,re=s.callbacks;for(H in re)re.hasOwnProperty(H)&&H!==y.READY&&k(J.ADD_LISTENER,H,s.element);t.callback&&t.callback()})},d.src=ee(O,e,t)}},bind(e,t){var r=this,s=P(this);return s&&s.element&&(e===y.READY&&s.isReady?setTimeout(t,1):s.isReady?(N(e,t,s),k(J.ADD_LISTENER,e,s.element)):N(X,function(){r.bind(e,t)},s)),this},unbind(e){var t,r=P(this);r&&r.element&&(t=q(e,r),e!==y.READY&&t&&k(J.REMOVE_LISTENER,e,r.element))}},w(Y.prototype,D(M)),w(Y.prototype,D(C),!0)},function(l,a){a.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},a.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(l,a){l.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(l,a){l.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}])}),[]}class Pe extends me{constructor(n){super(),ve(this,n,De,null,_e,{})}}var oe=(u=>(u.LOAD_PROGRESS="loadProgress",u.PLAY_PROGRESS="playProgress",u.PLAY="play",u.PAUSE="pause",u.FINISH="finish",u.SEEK="seek",u.ERROR="error",u.READY="ready",u))(oe||{});const ue=u=>{const n=new Date(u),l=n.getMinutes(),a=n.getSeconds();return a<10?`${l}:0${a}`:`${l}:${a}`};function Ie(u){let n,l;return{c(){n=g("p"),l=se("Loading..."),this.h()},l(a){n=E(a,"P",{class:!0});var c=b(n);l=ne(c,"Loading..."),c.forEach(h),this.h()},h(){o(n,"class","svelte-1qxpme9")},m(a,c){Q(a,n,c),p(n,l)},p:de,d(a){a&&h(n)}}}function Oe(u){let n,l,a=u[3].title+"",c,_,i,m=u[3].title+"",L;return{c(){n=g("div"),l=g("p"),c=se(a),_=$(),i=g("p"),L=se(m),this.h()},l(f){n=E(f,"DIV",{class:!0});var R=b(n);l=E(R,"P",{class:!0});var T=b(l);c=ne(T,a),T.forEach(h),_=W(R),i=E(R,"P",{class:!0});var D=b(i);L=ne(D,m),D.forEach(h),R.forEach(h),this.h()},h(){o(l,"class","svelte-1qxpme9"),o(i,"class","svelte-1qxpme9"),o(n,"class","svelte-1qxpme9")},m(f,R){Q(f,n,R),p(n,l),p(l,c),p(n,_),p(n,i),p(i,L)},p(f,R){R&8&&a!==(a=f[3].title+"")&&ce(c,a),R&8&&m!==(m=f[3].title+"")&&ce(L,m)},d(f){f&&h(n)}}}function Le(u){let n,l,a,c,_;return{c(){n=g("button"),l=g("img"),this.h()},l(i){n=E(i,"BUTTON",{type:!0,class:!0});var m=b(n);l=E(m,"IMG",{src:!0,class:!0,alt:!0}),m.forEach(h),this.h()},h(){ie(l.src,a=z+"/pause-button.png")||o(l,"src",a),o(l,"class","pause-play-btn svelte-1qxpme9"),o(l,"alt","pause"),o(n,"type","button"),o(n,"class","svelte-1qxpme9")},m(i,m){Q(i,n,m),p(n,l),c||(_=Ee(n,"click",u[4]),c=!0)},p:de,d(i){i&&h(n),c=!1,_()}}}function Te(u){let n,l,a,c,_;return{c(){n=g("button"),l=g("img"),this.h()},l(i){n=E(i,"BUTTON",{type:!0,class:!0});var m=b(n);l=E(m,"IMG",{src:!0,class:!0,alt:!0}),m.forEach(h),this.h()},h(){ie(l.src,a=z+"/play-button.png")||o(l,"src",a),o(l,"class","pause-play-btn svelte-1qxpme9"),o(l,"alt","play"),o(n,"type","button"),o(n,"class","svelte-1qxpme9")},m(i,m){Q(i,n,m),p(n,l),c||(_=Ee(n,"click",u[4]),c=!0)},p:de,d(i){i&&h(n),c=!1,_()}}}function Ne(u){let n,l,a,c,_,i,m,L,f,R,T,D,N,q,k,P,j,x,w,ee,te,I,V,F,Y,U,G=(u[3]?ue(u[3].duration):"0:00")+"",K,M,C,y;m=new Pe({});function J(e,t){return e[3]?Oe:Ie}let B=J(u),S=B(u);function X(e,t){return e[0]?Te:Le}let Z=X(u),A=Z(u);return{c(){n=g("link"),l=g("link"),a=g("link"),c=g("link"),_=$(),i=g("div"),ye(m.$$.fragment),L=$(),f=g("iframe"),T=$(),D=g("div"),N=g("div"),q=g("div"),k=g("div"),P=g("div"),S.c(),j=$(),x=g("div"),w=g("img"),te=$(),I=g("div"),V=g("p"),F=se(u[2]),Y=$(),U=g("p"),K=se(G),M=$(),C=g("div"),A.c(),this.h()},l(e){const t=be('[data-svelte="svelte-1ej0k31"]',document.head);n=E(t,"LINK",{rel:!0,href:!0}),l=E(t,"LINK",{rel:!0,href:!0,crossorigin:!0}),a=E(t,"LINK",{href:!0,rel:!0}),c=E(t,"LINK",{rel:!0,as:!0,href:!0}),t.forEach(h),_=W(e),i=E(e,"DIV",{class:!0});var r=b(i);Re(m.$$.fragment,r),L=W(r),f=E(r,"IFRAME",{id:!0,width:!0,height:!0,scrolling:!0,frameborder:!0,title:!0,allow:!0,src:!0,class:!0}),b(f).forEach(h),T=W(r),D=E(r,"DIV",{class:!0});var s=b(D);N=E(s,"DIV",{class:!0,style:!0});var d=b(N);q=E(d,"DIV",{class:!0});var v=b(q);k=E(v,"DIV",{class:!0});var O=b(k);P=E(O,"DIV",{class:!0});var H=b(P);S.l(H),H.forEach(h),j=W(O),x=E(O,"DIV",{class:!0,style:!0});var re=b(x);w=E(re,"IMG",{class:!0,src:!0,alt:!0,width:!0,height:!0,style:!0}),re.forEach(h),te=W(O),I=E(O,"DIV",{class:!0});var le=b(I);V=E(le,"P",{});var pe=b(V);F=ne(pe,u[2]),pe.forEach(h),Y=W(le),U=E(le,"P",{});var fe=b(U);K=ne(fe,G),fe.forEach(h),le.forEach(h),O.forEach(h),M=W(v),C=E(v,"DIV",{class:!0});var he=b(C);A.l(he),he.forEach(h),v.forEach(h),d.forEach(h),s.forEach(h),r.forEach(h),this.h()},h(){document.title="Rest Here Weary Traveller - Alvin Zhong",o(n,"rel","preconnect"),o(n,"href","https://fonts.googleapis.com"),o(l,"rel","preconnect"),o(l,"href","https://fonts.gstatic.com"),o(l,"crossorigin","anonymous"),o(a,"href","https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap"),o(a,"rel","stylesheet"),o(c,"rel","preload"),o(c,"as","image"),o(c,"href",z+"/pause-button.png"),o(f,"id","soundcloud"),o(f,"width","100%"),o(f,"height","166"),o(f,"scrolling","no"),o(f,"frameborder","no"),o(f,"title","SoundCloud"),o(f,"allow","autoplay"),ie(f.src,R="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/1528939585")||o(f,"src",R),o(f,"class","svelte-1qxpme9"),o(P,"class","song-title svelte-1qxpme9"),o(w,"class","track-thumb svelte-1qxpme9"),ie(w.src,ee=z+"/track-thumb.png")||o(w,"src",ee),o(w,"alt","track thumb"),o(w,"width","28px"),o(w,"height","28px"),ae(w,"left",u[1]+"%"),o(x,"class","track svelte-1qxpme9"),ae(x,"background-image","url('"+z+"/track.png')"),o(I,"class","timestamp svelte-1qxpme9"),o(k,"class","time-info svelte-1qxpme9"),o(C,"class","button-wrapper svelte-1qxpme9"),o(q,"class","player-controls svelte-1qxpme9"),o(N,"class","music-player svelte-1qxpme9"),ae(N,"background-image","url('"+z+"/rest-here.jpg')"),o(D,"class","music-player-wrapper svelte-1qxpme9"),o(i,"class","container svelte-1qxpme9")},m(e,t){p(document.head,n),p(document.head,l),p(document.head,a),p(document.head,c),Q(e,_,t),Q(e,i,t),ke(m,i,null),p(i,L),p(i,f),p(i,T),p(i,D),p(D,N),p(N,q),p(q,k),p(k,P),S.m(P,null),p(k,j),p(k,x),p(x,w),p(k,te),p(k,I),p(I,V),p(V,F),p(I,Y),p(I,U),p(U,K),p(q,M),p(q,C),A.m(C,null),y=!0},p(e,[t]){B===(B=J(e))&&S?S.p(e,t):(S.d(1),S=B(e),S&&(S.c(),S.m(P,null))),(!y||t&2)&&ae(w,"left",e[1]+"%"),(!y||t&4)&&ce(F,e[2]),(!y||t&8)&&G!==(G=(e[3]?ue(e[3].duration):"0:00")+"")&&ce(K,G),Z===(Z=X(e))&&A?A.p(e,t):(A.d(1),A=Z(e),A&&(A.c(),A.m(C,null)))},i(e){y||(Se(m.$$.fragment,e),y=!0)},o(e){we(m.$$.fragment,e),y=!1},d(e){h(n),h(l),h(a),h(c),e&&h(_),e&&h(i),Ae(m),S.d(),A.d()}}}function qe(u,n,l){let a,c=!0,_=0,i="0:00",m;return ge(async()=>(a=window.SC.Widget("soundcloud"),a.bind(oe.PLAY_PROGRESS,f=>{const R=f;l(1,_=R.relativePosition||0),l(2,i=ue(R.currentPosition))}),a.bind(oe.READY,()=>{a.getCurrentSound(f=>{l(3,m=f)})}),()=>{a.unbind(oe.PLAY_PROGRESS),l(0,c=!0)})),[c,_,i,m,()=>{a.toggle(),l(0,c=!c)}]}class Ge extends me{constructor(n){super(),ve(this,n,qe,Ne,_e,{})}}export{Ge as default};
